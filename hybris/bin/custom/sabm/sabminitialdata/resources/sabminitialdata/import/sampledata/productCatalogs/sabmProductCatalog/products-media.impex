# ImPex for Importing Product Media

# Macros / Replacement Parameter definitions
$productCatalog=sabmProductCatalog

$catalogVersion=catalogversion(catalog(id[default=$productCatalog]),version[default='Staged'])[unique=true,default=$productCatalog]
$media=@media[translator=de.hybris.platform.impex.jalo.media.MediaDataTranslator]
$thumbnail=thumbnail(code, $catalogVersion)
$picture=picture(code, $catalogVersion)
$thumbnails=thumbnails(code, $catalogVersion)
$detail=detail(code, $catalogVersion)
$normal=normal(code, $catalogVersion)
$others=others(code, $catalogVersion)
$data_sheet=data_sheet(code, $catalogVersion)
$medias=medias(code, $catalogVersion)
$galleryImages=galleryImages(qualifier, $catalogVersion)
$siteResource=jar:com.sabmiller.initialdata.setup.InitialDataSystemSetup&/sabminitialdata/import/sampledata/productCatalogs/$productCatalog

INSERT_UPDATE MediaFolder;qualifier[unique=true];path[unique=true]
;images;images

# Create Media
INSERT_UPDATE Media;mediaFormat(qualifier);code[unique=true];$media;mime[default='image/jpeg'];$catalogVersion;folder(qualifier)
;SABMZoomFormat;/1200Wx1200H/CARL_CUB09978-1 2_1200x1200.jpg;$siteResource/images/1200Wx1200H/CARL_CUB09978-1 2_1200x1200.jpg
;SABMZoomFormat;/1200Wx1200H/CARL_9320000001090-0.jpg;$siteResource/images/1200Wx1200H/CARL_9320000001090-0.jpg
;SABMZoomFormat;/1200Wx1200H/CARL_9320000001090-1.jpg;$siteResource/images/1200Wx1200H/CARL_9320000001090-1.jpg
;SABMZoomFormat;/1200Wx1200H/CARL_9300679004011-0.jpg;$siteResource/images/1200Wx1200H/CARL_9300679004011-0.jpg
;SABMZoomFormat;/1200Wx1200H/CARL_9300679004011-1.jpg;$siteResource/images/1200Wx1200H/CARL_9300679004011-1.jpg
;SABMZoomFormat;/1200Wx1200H/CARL_9320000163484-0.jpg;$siteResource/images/1200Wx1200H/CARL_9320000163484-0.jpg
;SABMZoomFormat;/1200Wx1200H/CARL_9300679501459-1_1200x1200.jpg;$siteResource/images/1200Wx1200H/CARL_9300679501459-1_1200x1200.jpg


;SABMHeroFormat;/515Wx515H/CARL_CUB09978-1 2_515x515.jpg;$siteResource/images/515Wx515H/CARL_CUB09978-1 2_515x515.jpg
;SABMHeroFormat;/515Wx515H/CARL_9320000001090-0.jpg;$siteResource/images/515Wx515H/CARL_9320000001090-0.jpg
;SABMHeroFormat;/515Wx515H/CARL_9320000001090-1.jpg;$siteResource/images/515Wx515H/CARL_9320000001090-1.jpg
;SABMHeroFormat;/515Wx515H/CARL_9300679004011-0.jpg;$siteResource/images/515Wx515H/CARL_9300679004011-0.jpg
;SABMHeroFormat;/515Wx515H/CARL_9300679004011-1.jpg;$siteResource/images/515Wx515H/CARL_9300679004011-1.jpg
;SABMHeroFormat;/515Wx515H/CARL_9320000163484-0.jpg;$siteResource/images/515Wx515H/CARL_9320000163484-0.jpg
;SABMHeroFormat;/515Wx515H/CARL_9300679501459-1_515x515.jpg;$siteResource/images/515Wx515H/CARL_9300679501459-1_515x515.jpg

;SABMNormalFormat;/300Wx300H/CARL_CUB09978-1 2_300x300.jpg;$siteResource/images/300Wx300H/CARL_CUB09978-1 2_300x300.jpg
;SABMNormalFormat;/300Wx300H/CARL_9320000001090-0.jpg;$siteResource/images/300Wx300H/CARL_9320000001090-0.jpg
;SABMNormalFormat;/300Wx300H/CARL_9320000001090-1.jpg;$siteResource/images/300Wx300H/CARL_9320000001090-1.jpg
;SABMNormalFormat;/300Wx300H/CARL_9300679004011-0.jpg;$siteResource/images/300Wx300H/CARL_9300679004011-0.jpg
;SABMNormalFormat;/300Wx300H/CARL_9300679004011-1.jpg;$siteResource/images/300Wx300H/CARL_9300679004011-1.jpg
;SABMNormalFormat;/300Wx300H/CARL_9320000163484-0.jpg;$siteResource/images/300Wx300H/CARL_9320000163484-0.jpg
;SABMNormalFormat;/300Wx300H/CARL_9300679501459-1_300x300.jpg;$siteResource/images/300Wx300H/CARL_9300679501459-1_300x300.jpg

;SABMThumbnailFormat;/96Wx96H/CARL_CUB09978-1 2_96x96.jpg;$siteResource/images/96Wx96H/CARL_CUB09978-1 2_96x96.jpg
;SABMThumbnailFormat;/96Wx96H/CARL_9320000001090-0.jpg;$siteResource/images/96Wx96H/CARL_9320000001090-0.jpg
;SABMThumbnailFormat;/96Wx96H/CARL_9320000001090-1.jpg;$siteResource/images/96Wx96H/CARL_9320000001090-1.jpg
;SABMThumbnailFormat;/96Wx96H/CARL_9300679004011-0.jpg;$siteResource/images/96Wx96H/CARL_9300679004011-0.jpg
;SABMThumbnailFormat;/96Wx96H/CARL_9300679004011-1.jpg;$siteResource/images/96Wx96H/CARL_9300679004011-1.jpg
;SABMThumbnailFormat;/96Wx96H/CARL_9320000163484-0.jpg;$siteResource/images/96Wx96H/CARL_9320000163484-0.jpg
;SABMThumbnailFormat;/96Wx96H/CARL_9300679501459-1_96x96.jpg;$siteResource/images/96Wx96H/CARL_9300679501459-1_96x96.jpg

;SABMCartFormat;/65Wx65H/CARL_CUB09978-1 2_96x96.jpg;$siteResource/images/96Wx96H/CARL_CUB09978-1 2_96x96.jpg
;SABMCartFormat;/65Wx65H/CARL_9320000001090-0.jpg;$siteResource/images/96Wx96H/CARL_9320000001090-0.jpg
;SABMCartFormat;/65Wx65H/CARL_9320000001090-1.jpg;$siteResource/images/96Wx96H/CARL_9320000001090-1.jpg
;SABMCartFormat;/65Wx65H/CARL_9300679004011-0.jpg;$siteResource/images/96Wx96H/CARL_9300679004011-0.jpg
;SABMCartFormat;/65Wx65H/CARL_9300679004011-1.jpg;$siteResource/images/96Wx96H/CARL_9300679004011-1.jpg
;SABMCartFormat;/65Wx65H/CARL_9320000163484-0.jpg;$siteResource/images/96Wx96H/CARL_9320000163484-0.jpg
;SABMCartFormat;/65Wx65H/CARL_9300679501459-1_96x96.jpg;$siteResource/images/96Wx96H/CARL_9300679501459-1_96x96.jpg


# Create Media Containers
INSERT_UPDATE MediaContainer;qualifier[unique=true];$medias;$catalogVersion
;CARL_CUB09978-1 2;/1200Wx1200H/CARL_CUB09978-1 2_1200x1200.jpg,/515Wx515H/CARL_CUB09978-1 2_515x515.jpg,/300Wx300H/CARL_CUB09978-1 2_300x300.jpg,/96Wx96H/CARL_CUB09978-1 2_96x96.jpg,/65Wx65H/CARL_CUB09978-1 2_96x96.jpg
;CARL_9320000001090-0;/1200Wx1200H/CARL_9320000001090-0.jpg,/515Wx515H/CARL_9320000001090-0.jpg,/300Wx300H/CARL_9320000001090-0.jpg,/96Wx96H/CARL_9320000001090-0.jpg,/65Wx65H/CARL_9320000001090-0.jpg
;CARL_9320000001090-1;/1200Wx1200H/CARL_9320000001090-1.jpg,/515Wx515H/CARL_9320000001090-1.jpg,/300Wx300H/CARL_9320000001090-1.jpg,/96Wx96H/CARL_9320000001090-1.jpg,/65Wx65H/CARL_9320000001090-1.jpg
;CARL_9300679004011-0;/1200Wx1200H/CARL_9300679004011-0.jpg,/515Wx515H/CARL_9300679004011-0.jpg,/300Wx300H/CARL_9300679004011-0.jpg,/96Wx96H/CARL_9300679004011-0.jpg,/65Wx65H/CARL_9300679004011-0.jpg
;CARL_9300679004011-1;/1200Wx1200H/CARL_9300679004011-1.jpg,/515Wx515H/CARL_9300679004011-1.jpg,/300Wx300H/CARL_9300679004011-1.jpg,/96Wx96H/CARL_9300679004011-1.jpg,/65Wx65H/CARL_9300679004011-1.jpg
;CARL_9320000163484-0;/1200Wx1200H/CARL_9320000163484-0.jpg,/515Wx515H/CARL_9320000163484-0.jpg,/300Wx300H/CARL_9320000163484-0.jpg,/96Wx96H/CARL_9320000163484-0.jpg,/65Wx65H/CARL_9320000163484-0.jpg
;CARL_9300679501459-1;/1200Wx1200H/CARL_9300679501459-1_1200x1200.jpg,/515Wx515H/CARL_9300679501459-1_515x515.jpg,/300Wx300H/CARL_9300679501459-1_300x300.jpg,/96Wx96H/CARL_9300679501459-1_96x96.jpg,/65Wx65H/CARL_9300679501459-1_96x96.jpg



# Update Products with Media and Media Containers
INSERT_UPDATE Product;code[unique=true];$picture;$thumbnail;$detail;$others;$normal;$thumbnails;$galleryImages;$catalogVersion
;eanVariant01;/300Wx300H/CARL_CUB09978-1 2_300x300.jpg;/96Wx96H/CARL_CUB09978-1 2_96x96.jpg;/1200Wx1200H/CARL_CUB09978-1 2_1200x1200.jpg;/515Wx515H/CARL_CUB09978-1 2_515x515.jpg;/300Wx300H/CARL_CUB09978-1 2_300x300.jpg;;CARL_CUB09978-1 2

;eanVariant02_5;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_6;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_7;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_8;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_9;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_10;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_11;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_12;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_13;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_14;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_15;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_16;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_17;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_18;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_19;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_20;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_21;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_22;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;ean000000000090355;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;ean000000000090368;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;ean000000000090399;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;ean000000000090357;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;ean000000000090362;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_28;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_29;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_30;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_31;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_32;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_33;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;eanVariant02_34;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0


;ean000000000090363;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;ean000000000090364;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;ean000000000090365;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0
;ean000000000090366;/300Wx300H/CARL_9320000001090-0.jpg;/96Wx96H/CARL_9320000001090-0.jpg;/1200Wx1200H/CARL_9320000001090-0.jpg;/515Wx515H/CARL_9320000001090-0.jpg;/300Wx300H/CARL_9320000001090-0.jpg;;CARL_9320000001090-0




;eanVariant04;/300Wx300H/CARL_9320000163484-0.jpg;/96Wx96H/CARL_9320000163484-0.jpg;/1200Wx1200H/CARL_9320000163484-0.jpg;/515Wx515H/CARL_9320000163484-0.jpg;/300Wx300H/CARL_9320000163484-0.jpg;;CARL_9320000163484-0
;eanVariant05;/300Wx300H/CARL_9300679004011-0.jpg;/96Wx96H/CARL_9300679004011-0.jpg;/1200Wx1200H/CARL_9300679004011-0.jpg;/515Wx515H/CARL_9300679004011-0.jpg;/300Wx300H/CARL_9300679004011-0.jpg;;CARL_9300679004011-0


# Sample external Videos media
INSERT_UPDATE Media;$catalogVersion[unique=true];code[unique=true];realfilename;url;altText;mediaFormat(qualifier)
;;video1;Sample Video 1;https://www.youtube.com/watch?v=yj6wv204Kpo;Sample Video 1;video
;;video2;Sample Video 2;https://www.youtube.com/watch?v=y4oIlY3HJfo;Sample Video 2;video
;;video3;Sample Video 3;https://www.youtube.com/watch?v=8nLWRf-9Q0Y;Sample Video 3;video

# Update products with videos media
INSERT_UPDATE SABMAlcoholVariantProductEAN;code[unique=true];$others[mode=append];$catalogVersion[unique=true];BaseProduct(code,$catalogVersion);container;
;ean000000000090355;video2;;eanVariant01;Keg;
;ean000000000090368;video2;;eanVariant02_5;Keg;
;ean000000000090399;video2;;eanVariant02_6;Keg;
;ean000000000090357;video2;;eanVariant02_7;Keg;
;ean000000000090362;video2;;eanVariant02_9;Keg;
;ean000000000090363;video2;;eanVariant02_10;Keg;
;ean000000000090364;video2;;eanVariant02_11;Keg;
;ean000000000090365;video2;;eanVariant02_12;Keg;
;ean000000000090366;video2;;eanVariant02_13;Keg;
;ean000000000090374;video2;;eanVariant02_14;Keg;
;ean000000000090375;video2;;eanVariant02_15;Keg;
;ean000000000090383;video2;;eanVariant02_17;Keg;



