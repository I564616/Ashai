<?xml version="1.0" encoding="UTF-8"?>
<!--
 [y] hybris Platform

 Copyright (c) 2000-2015 hybris AG
 All rights reserved.

 This software is the confidential and proprietary information of hybris
 ("Confidential Information"). You shall not disclose such Confidential
 Information and shall use it only in accordance with the terms of the
 license agreement you entered into with hybris.
-->

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:util="http://www.springframework.org/schema/util"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xmlns:cache="http://www.springframework.org/schema/cache"
       xsi:schemaLocation="http://www.springframework.org/schema/beans  http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd
       http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd
       http://www.springframework.org/schema/cache http://www.springframework.org/schema/cache/spring-cache.xsd">

     <context:annotation-config/> 
     
	<!-- Spring Integration -->
	<import resource="classpath:/sabmcore/integration/hot-folder-common-spring.xml"/>

<!--<cache:annotation-driven cache-manager="compositeSabmCacheManager" key-generator="sabmCacheKeyGenerator"/>-->
	



<!--	<alias name="defaultSabmCacheManagerList" alias="sabmCacheManagerList"/>-->
<!--	<util:list id="defaultSabmCacheManagerList">-->
<!--		<ref bean="defaultSabmCacheManager"/>-->
<!--	</util:list>-->

	<!-- Composite cache manager is used to allow addons to add their own cache managers by modyfying wsCacheManagerList -->

<!--	<alias name="defaultCompositeSabmCacheManager" alias="compositeSabmCacheManager"/>-->
<!--	<bean id="defaultCompositeSabmCacheManager" class="org.springframework.cache.support.CompositeCacheManager">-->
<!--		<property name="cacheManagers">-->
<!--			<ref bean="sabmCacheManagerList"/>-->
<!--		</property>-->
<!--	</bean>-->

	<!-- Default cache manager for OCC: -->
	

<!--	<alias name="defaultSabmCacheManager" alias="sabmCacheManager"/>-->
<!--	<bean id="defaultSabmCacheManager" class="org.springframework.cache.ehcache.EhCacheCacheManager">-->
<!--		<property name="cacheManager" ref="sabmEhcache"/>-->
<!--	</bean>-->

	<!--Cache Settings-->
<!--	<import resource="cache-spring.xml" />-->

<!--	<alias name="defaultSabmEhcache" alias="sabmEhcache"/>-->
<!--	<bean id="defaultSabmEhcache" class="com.sabmiller.cache.impl.SabmTenantAwareEhCacheManagerFactoryBean">-->
<!--		<property name="configLocation" value="sabmEhcache.xml" />-->
<!--	</bean>-->
	
	<!-- SystemSetup for the SabmCore -->
	<bean id="acceleratorCoreSystemSetup" class="com.sabmiller.core.setup.CoreSystemSetup" parent="abstractCoreSystemSetup">
		<property name="sabmMManualImportProductExclusionService" ref="sabmMManualImportProductExclusionService"/>
	</bean>
	       
	<alias name="sabmMManualImportProductExclusionService" alias="manualImportProductExclusionService" />
    <bean id="sabmMManualImportProductExclusionService" class="com.sabmiller.core.b2b.services.impl.SABMManualImportProductExclusionServiceImpl" />

<bean id="sabmCacheKeyGenerator" class="com.sabmiller.cache.impl.SabmCacheKeyGenerator">
		<property name="commonI18NService" ref="commonI18NService"/>
		<property name="baseSiteService" ref="baseSiteService"/>
		<property name="userService" ref="userService"/>
	</bean>

	<!-- Solr field value providers -->
	
	<bean id="volumeAwareProductPriceValueProvider" class="com.sabmiller.core.search.solrfacetsearch.provider.impl.VolumeAwareProductPriceValueProvider"  parent="abstractPropertyFieldValueProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="priceService" ref="priceService"/>
        <property name="commonI18NService" ref="commonI18NService"/>
        <property name="sessionService" ref="sessionService"/>
        <property name="userService" ref="userService"/>
        <property name="priceComparator" ref="volumePriceComparator"/>
        <property name="catalogVersionService" ref="catalogVersionService"/>
    </bean>
    
	<!-- HC-316 changing reference to defaultB2BUnitService as we don't need to use session for backoffice-->
	<bean id="B2BCustomerPrepareInterceptor" class="de.hybris.platform.b2b.interceptor.B2BCustomerPrepareInterceptor">
		<property name="b2bUnitService" ref="defaultB2BUnitService"/>
		<property name="userService" ref="userService"/>
	</bean>
	
    <!-- ALB code start -->
    <!-- SystemSetup for the ApbCore -->
    
    <!-- Need to merge with CUB when impex are merged
	<bean id="acceleratorCoreSystemSetup" class="com.apb.core.setup.CoreSystemSetup" parent="abstractCoreSystemSetup" />
	
	 -->

	<!-- Solr field value providers -->

	<!-- <bean id="volumeAwareProductPriceValueProvider" class="com.apb.core.search.solrfacetsearch.provider.impl.VolumeAwareProductPriceValueProvider"
		parent="abstractPropertyFieldValueProvider">
		<property name="fieldNameProvider" ref="solrFieldNameProvider" />
		<property name="priceService" ref="priceService" />
		<property name="commonI18NService" ref="commonI18NService" />
		<property name="sessionService" ref="sessionService" />
		<property name="userService" ref="userService" />
		<property name="priceComparator" ref="volumePriceComparator" />
		<property name="catalogVersionService" ref="catalogVersionService" />
	</bean> -->

	<!-- Not Required
	<bean id="volumePriceComparator" class="com.apb.core.comparators.VolumeAwarePriceInformationComparator" scope="singleton" />
	-->
<!-- Not Required
	<bean id="productVolumePricesProvider" class="com.apb.core.search.solrfacetsearch.provider.impl.ProductVolumePricesProvider"
		parent="abstractPropertyFieldValueProvider">
		<property name="fieldNameProvider" ref="solrFieldNameProvider" />
		<property name="priceService" ref="priceService" />
	</bean>-->
	<bean id="apbCategorySource" parent="abstractCategorySource">
		<property name="rootCategory" value="1" />
		<!-- '1' is the root icecat category -->
	</bean>
	<bean id="apbBrandCategorySource" parent="abstractCategorySource">
		<property name="rootCategory" value="brands" />
		<!-- 'brands' is the root of the brands hierarchy -->
	</bean>

<!-- Not Required
	<bean id="abstractCategoryCodeValueProvider" abstract="true"
		class="de.hybris.platform.commerceservices.search.solrfacetsearch.provider.impl.CategoryCodeValueProvider" parent="abstractPropertyFieldValueProvider">
		<property name="fieldNameProvider" ref="solrFieldNameProvider" />
		<property name="commonI18NService" ref="commonI18NService" />
	</bean>
	<bean id="abstractCategoryNameValueProvider" abstract="true"
		class="de.hybris.platform.commerceservices.search.solrfacetsearch.provider.impl.CategoryNameValueProvider" parent="abstractPropertyFieldValueProvider">
		<property name="fieldNameProvider" ref="solrFieldNameProvider" />
		<property name="commonI18NService" ref="commonI18NService" />
	</bean>-->

	
<!-- verified -->
<bean id="asahiIntegrationPointsService" class="com.apb.core.integration.AsahiIntegrationPointsServiceImpl">
</bean>


	<bean id="image515ValueProvider" parent="abstractImageValueProvider">
		<property name="mediaFormat" value="515Wx515H" />
	</bean>
	<bean id="image300ValueProvider" parent="abstractImageValueProvider">
		<property name="mediaFormat" value="300Wx300H" />
	</bean>
	<bean id="image96ValueProvider" parent="abstractImageValueProvider">
		<property name="mediaFormat" value="96Wx96H" />
	</bean>
	<bean id="image65ValueProvider" parent="abstractImageValueProvider">
		<property name="mediaFormat" value="65Wx65H" />
	</bean>
	<bean id="image30ValueProvider" parent="abstractImageValueProvider">
		<property name="mediaFormat" value="30Wx30H" />
	</bean>
<!-- Not Required
	<bean id="productUrlValueProvider" class="de.hybris.platform.commerceservices.search.solrfacetsearch.provider.impl.ProductUrlValueProvider"
		parent="abstractPropertyFieldValueProvider">
		<property name="urlResolver" ref="productModelUrlResolver" />
		<property name="fieldNameProvider" ref="solrFieldNameProvider" />
		<property name="i18nService" ref="i18nService" />
		<property name="commonI18NService" ref="commonI18NService" />
	</bean>

	<bean id="promotionCodeValueProvider" class="de.hybris.platform.commerceservices.search.solrfacetsearch.provider.impl.PromotionCodeValueProvider"
		parent="abstractPropertyFieldValueProvider">
		<property name="promotionsService" ref="promotionsService" />
		<property name="fieldNameProvider" ref="solrFieldNameProvider" />
	</bean>

	<bean id="promotionImageValueProvider" class="de.hybris.platform.commerceservices.search.solrfacetsearch.provider.impl.PrimaryPromotionImageValueProvider"
		parent="abstractPropertyFieldValueProvider">
		<property name="promotionsService" ref="promotionsService" />
		<property name="fieldNameProvider" ref="solrFieldNameProvider" />
	</bean>
-->
	<!-- Event listeners are singletons, therefore the dependency for a bean in tenant-scope must be configured with a lookup method. -->

<!-- Not Required
	<bean id="customerRegistrationEventListener" class="com.apb.core.event.RegistrationEventListener" parent="abstractAcceleratorSiteEventListener">
		<property name="modelService" ref="modelService" />
		<property name="businessProcessService" ref="businessProcessService" />
	</bean>-->
	<bean id="customerSuperRegistrationEventListener" class="com.apb.core.event.RegistrationSuperEventListener" parent="abstractAcceleratorSiteEventListener">
		<property name="modelService" ref="modelService" />
		<property name="businessProcessService" ref="businessProcessService" />
	</bean>
	<bean id="RequestRegistrationEventListener" class="com.apb.core.event.RequestRegistrationEventListener" parent="abstractAcceleratorSiteEventListener">
		<property name="modelService" ref="modelService" />
		<property name="businessProcessService" ref="businessProcessService" />
	</bean>
	<bean id="ApbCompanyDetailsEventListener" class="com.apb.core.event.ApbCompanyDetailsEventListener" parent="abstractAcceleratorSiteEventListener">
		<property name="modelService" ref="modelService" />
		<property name="businessProcessService" ref="businessProcessService" />
	</bean>
	<bean id="ApbContactUsEventListener" class="com.apb.core.event.ApbContactUsEventListener" parent="abstractAcceleratorSiteEventListener">
		<property name="modelService" ref="modelService" />
		<property name="businessProcessService" ref="businessProcessService" />
	</bean>
	<bean id="apbKegReturnEventListener" class="com.apb.core.event.ApbKegReturnEventListener" parent="abstractAcceleratorSiteEventListener">
		<property name="modelService" ref="modelService" />
		<property name="businessProcessService" ref="businessProcessService" />
	</bean>
	<!-- Not Required
	<bean id="forgottenPasswordEventListener" class="com.apb.core.event.ForgottenPasswordEventListener" parent="abstractAcceleratorSiteEventListener">
		<property name="modelService" ref="modelService" />
		<property name="businessProcessService" ref="businessProcessService" />
	</bean>-->
	<!-- Process resources definition -->
<!-- Need to merge with CUB when xml are merged
	<bean id="customerRegistrationEmailProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/apbcore/processes/customerRegistrationEmailProcess.xml" />
	</bean>
	-->
	<bean id="customerSuperRegistrationEmailProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/sabmcore/processes/customerSuperRegistrationEmailProcess.xml" />
	</bean>
	<!--  
	<bean id="apbCompanyDetailsEmailProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/apbcore/processes/apbCompanyDetailsEmailProcess.xml" />
	</bean>
	<bean id="requestRegistrationEmailProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/apbcore/processes/requestRegistrationEmailProcess.xml" />
	</bean>
	
	<bean id="contactUsEmailProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/apbcore/processes/apbContactUsEmailProcess.xml" />
	</bean>
	
	<bean id="apbKegReturnEmailProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/apbcore/processes/apbKegReturnEmailProcess.xml" />
	</bean>
	
	
	<bean id="forgottenPasswordEmailProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/apbcore/processes/forgottenPasswordEmailProcess.xml" />
	</bean>
	-->
	
	<!-- Actions -->
	<!--Not Required
	 <bean id="abstractAction" class="de.hybris.platform.processengine.action.AbstractAction" abstract="true">
		<property name="modelService" ref="modelService" />
		<property name="processParameterHelper" ref="processParameterHelper" />
	</bean> 

	<bean id="sendEmail" class="de.hybris.platform.acceleratorservices.process.email.actions.SendEmailAction" parent="abstractAction">
		<property name="emailService" ref="emailService" />
	</bean>

	<bean id="abstractGenerateEmailAction" class="de.hybris.platform.acceleratorservices.process.email.actions.GenerateEmailAction"
		parent="abstractAction" abstract="true">
		<property name="modelService" ref="modelService" />
		<property name="cmsEmailPageService" ref="cmsEmailPageService" />
		<property name="contextResolutionStrategy" ref="processContextResolutionStrategy" />
		<property name="emailGenerationService" ref="emailGenerationService" />
	</bean>

	<bean id="generateCustomerRegistrationEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="CustomerRegistrationEmailTemplate" />
	</bean>-->
	
	<bean id="contactUsEmailProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/sabmcore/processes/apbContactUsEmailProcess.xml" />
	</bean>
	
	<bean id="apbCompanyDetailsEmailProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/sabmcore/processes/apbCompanyDetailsEmailProcess.xml" />
	</bean>
	
	<bean id="generateSuperCustomerRegistrationEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="CustomerSuperRegistrationEmailTemplate" />
	</bean>
	
	<bean id="generateRequestRegistrationEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="RequestRegistrationEmailTemplate" />
	</bean>

	<bean id="generateApbCompanyDetailsEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="ApbCompanyDetailsEmailTemplate" />
	</bean>	
	<bean id="generateContactUsEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="ApbContactUsEmailTemplate" />
	</bean>
	
	<bean id="generateKegReturnEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="ApbKegReturnEmailTemplate" />
	</bean>
	
	<!--Not Required
	 <bean id="generateForgottenPasswordEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="ForgottenPasswordEmailTemplate" />
	</bean> -->
<!-- Stop Email 
	<bean id="generateOrderConfirmationEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="OrderConfirmationEmailTemplate" />
	</bean>

	<bean id="generateDeliverySentEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="DeliverySentEmailTemplate" />
	</bean>

	<bean id="generateReadyForPickupEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="ReadyForPickupEmailTemplate" />
	</bean>

	<bean id="generateOrderCancelledEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="OrderCancelledEmailTemplate" />
	</bean>

	<bean id="generateOrderRefundEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="OrderRefundEmailTemplate" />
	</bean>

	<bean id="generateOrderPartiallyCanceledEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="OrderPartiallyCanceledEmailTemplate" />
	</bean>
	<bean id="generateOrderPartiallyRefundedEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="OrderPartiallyRefundedEmailTemplate" />
	</bean>
	<bean id="generateNotPickedUpConsignmentCanceledEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="NotPickedUpConsignmentCanceledEmailTemplate" />
	</bean>
-->
	<!--Not Required
	 <bean id="removeSentEmail" class="de.hybris.platform.acceleratorservices.process.email.actions.RemoveSentEmailAction"
		parent="abstractAction">
		<property name="modelService" ref="modelService" />
	</bean> -->

	<bean id="markQuoteNotificationAsSent" class="com.apb.core.actions.quote.MarkQuoteNotificationAsSentAction" parent="abstractAction"
		abstract="true">
		<property name="quoteService" ref="quoteService" />
	</bean>

	<!-- Simple Suggestion Service -->
	<!-- Not Required
	<alias alias="simpleSuggestionService" name="defaultSimpleSuggestionService" />
	<bean id="defaultSimpleSuggestionService" class="com.apb.core.suggestion.impl.DefaultSimpleSuggestionService">
		<property name="simpleSuggestionDao" ref="simpleSuggestionDao" />
	</bean>
	<alias alias="simpleSuggestionDao" name="defaultSimpleSuggestionDao" />
	<bean id="defaultSimpleSuggestionDao" class="com.apb.core.suggestion.dao.impl.DefaultSimpleSuggestionDao" parent="abstractItemDao">
		<property name="flexibleSearchService" ref="flexibleSearchService" />
	</bean> -->

<!-- Not required as merge in CUB
	<bean id="mccSiteUrlHelper" class="com.apb.core.util.MccSiteUrlHelper">
		<property name="siteChannelValidationStrategy" ref="siteChannelValidationStrategy" />
		<property name="siteBaseUrlResolutionService" ref="siteBaseUrlResolutionService" />
		<property name="cmsSiteService" ref="cmsSiteService" />
	</bean>
 -->

	<!-- checkout flow configuration -->
<!--  Need to validate if it really required for all three 
	<bean id="pickUpInStoreCheckoutFlowStrategy" class="com.apb.core.checkout.flow.impl.PickUpInStoreCheckoutFlowStrategy">
		<property name="pickupStrategy" ref="pickupStrategy" />
		<property name="defaultStrategy" ref="siteCheckoutFlowStrategy" />
		<property name="multiStepCheckoutFlowStrategy" ref="multiStepCheckoutFlowStrategy" />
	</bean>
	
	<bean id="siteCheckoutFlowStrategy" class="com.apb.core.checkout.flow.impl.SiteCheckoutFlowStrategy">-->
		<!-- This strategy looks up a strategy based on the current site UID -->
		<!--  Need to validate if it really required
		<property name="cmsSiteService" ref="cmsSiteService" />
		<property name="siteMappings">
			<map>-->
				<!-- <entry key="apb" value-ref="newCustomerCheckoutFlowStrategy"/> <entry key="apparelde" value-ref="multiStepCheckoutFlowStrategy"/> 
					<entry key="appareluk" value-ref="multiStepCheckoutFlowStrategy"/> <entry key="powertoolsstore" value-ref="multiStepCheckoutFlowStrategy"/> -->
			<!--  </map>
		</property>-->
		<!-- Default to SINGLE step checkout -->
		<!-- <property name="defaultStrategy" ref="multiStepCheckoutFlowStrategy" />
	</bean>

	<bean id="newCustomerCheckoutFlowStrategy" class="com.apb.core.checkout.flow.impl.NewCustomerCheckoutFlowStrategy">-->
		<!-- This strategy works out if the user has created any data -->
		<!-- 
		<property name="userService" ref="userService" />
		<property name="customerAccountService" ref="customerAccountService" />
		<property name="defaultStrategy" ref="multiStepCheckoutFlowStrategy" />
		<property name="newCustomerStrategy" ref="multiStepCheckoutFlowStrategy" />
	</bean>
-->
	<!-- Product Reference Lookup Strategies -->


	<!-- Sales quote process actions -->

	<!-- quote -->
	<bean id="quoteBuyerSubmitEventListener" class="com.apb.core.event.QuoteBuyerSubmitEventListener" parent="abstractEventListener">
		<property name="modelService" ref="modelService" />
		<property name="businessProcessService" ref="businessProcessService" />
	</bean>

	<bean id="quoteSalesRepSubmitEventListener" class="com.apb.core.event.QuoteSalesRepSubmitEventListener" parent="abstractEventListener">
		<property name="modelService" ref="modelService" />
		<property name="businessProcessService" ref="businessProcessService" />
	</bean>

	<bean id="quoteSellerApprovalSubmitEventListener" class="com.apb.core.event.QuoteSellerApprovalSubmitEventListener" parent="abstractEventListener">
		<property name="modelService" ref="modelService" />
		<property name="businessProcessService" ref="businessProcessService" />
	</bean>

	<bean id="quoteBuyerOrderPlacedEventListener" class="com.apb.core.event.QuoteBuyerOrderPlacedEventListener" parent="abstractEventListener">
		<property name="commerceQuoteService" ref="commerceQuoteService" />
		<property name="modelService" ref="modelService" />
	</bean>

	<bean id="quoteToExpireSoonEventListener" class="com.apb.core.event.QuoteToExpireSoonEventListener" parent="abstractEventListener">
		<property name="modelService" ref="modelService" />
		<property name="businessProcessService" ref="businessProcessService" />
	</bean>

	<bean id="quoteExpiredEventListener" class="com.apb.core.event.QuoteExpiredEventListener" parent="abstractEventListener">
		<property name="modelService" ref="modelService" />
		<property name="businessProcessService" ref="businessProcessService" />
	</bean>

	<bean id="quoteCancelEventListener" class="com.apb.core.event.QuoteCancelEventListener" parent="abstractEventListener">
		<property name="modelService" ref="modelService" />
		<property name="businessProcessService" ref="businessProcessService" />
	</bean>

	<bean id="quoteBuyerProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/sabmcore/processes/quote/quote-buyer-process.xml" />
	</bean>
<!-- To be validate after xml merge
	<bean id="quoteSalesRepProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/apbcore/processes/quote/quote-salesrep-process.xml" />
	</bean>


	<bean id="quoteSellerApprovalProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/apbcore/processes/quote/quote-seller-approval-process.xml" />
	</bean>

	<bean id="quotePostCancellationProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/apbcore/processes/quote/quote-post-cancellation-process.xml" />
	</bean>

	<bean id="quoteToExpireSoonProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/apbcore/processes/quote/quote-to-expire-soon-email-process.xml" />
	</bean>

	<bean id="quoteExpiredProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/apbcore/processes/quote/quote-expired-email-process.xml" />
	</bean>
	-->

	<!-- Quotes email notification jobs -->
	<bean id="quoteToExpireSoonJobPerformable" class="com.apb.core.job.QuoteToExpireSoonJobPerformable" parent="abstractJobPerformable">
		<property name="supportedQuoteStatuses">
			<set value-type="de.hybris.platform.core.enums.QuoteState">
				<value>BUYER_OFFER</value>
			</set>
		</property>
		<property name="commerceQuoteDao" ref="commerceQuoteDao" />
		<property name="eventService" ref="eventService" />
		<property name="configurationService" ref="configurationService" />
		<property name="timeService" ref="timeService" />
	</bean>

	<bean id="quoteExpiredJobPerformable" class="com.apb.core.job.QuoteExpiredJobPerformable" parent="abstractJobPerformable">
		<property name="supportedQuoteStatuses">
			<set value-type="de.hybris.platform.core.enums.QuoteState">
				<value>BUYER_OFFER</value>
			</set>
		</property>
		<property name="commerceQuoteDao" ref="commerceQuoteDao" />
		<property name="eventService" ref="eventService" />
		<property name="timeService" ref="timeService" />
	</bean>

	<import resource="/sabmcore/processes/quote/quote-buyer-process-spring.xml" />
	<import resource="/sabmcore/processes/quote/quote-salesrep-process-spring.xml" />
	<import resource="/sabmcore/processes/quote/quote-seller-approval-process-spring.xml" />

	<import resource="/sabmcore/processes/quote/quote-to-expire-soon-email-process-spring.xml" />
	<import resource="/sabmcore/processes/quote/quote-expired-email-process-spring.xml" />

	<import resource="/sabmcore/processes/quote/quote-post-cancellation-process-spring.xml" />
	
	<!--Need to revalidate
	
	 <bean id="defaultAbstractCommerceCartStrategy" class="de.hybris.platform.commerceservices.order.impl.AbstractCommerceCartStrategy">
    	<replaced-method name="getAvailableStockLevel" replacer="apbReplacementGetForceInStockMaxQuantity">
    		<arg-type>de.hybris.platform.core.model.product.ProductModel</arg-type>
        	<arg-type>de.hybris.platform.storelocator.model.PointOfServiceModel</arg-type>
    	</replaced-method> 
    	<property name="productService" ref="productService"/>
		<property name="cartService" ref="cartService"/>
		<property name="modelService" ref="modelService"/>
		<property name="baseStoreService" ref="baseStoreService"/>
		<property name="commerceStockService" ref="commerceStockService"/>
		<property name="entryOrderChecker" ref="commerceOrderEntryModifiableChecker"/>
		<property name="cartEntryDao" ref="cartEntryDao"/>
		<property name="commerceCartCalculationStrategy" ref="commerceCartCalculationStrategy"/>  	
	</bean> -->
		<!-- verified -->
	<alias alias="siteBaseUrlResolutionService" name="apbSiteBaseUrlResolutionService"/>
	<bean id="apbSiteBaseUrlResolutionService"
	      class="com.apb.core.email.impl.ApbSiteBaseUrlResolutionService" parent="defaultSiteBaseUrlResolutionService">
	</bean>
	
	<!-- Not required merged in CUB
	
	<alias alias="commerceDeliveryAddressStrategy" name="apbCommerceDeliveryAddressStrategy"/>
	<bean id="apbCommerceDeliveryAddressStrategy"
			class="com.apb.core.strategies.impl.ApbCommerceDeliveryAddressStrategyImpl" parent="defaultCommerceDeliveryAddressStrategy" />
-->

	<!-- need to test -->
	<alias name="apbB2BCommerceDeliveryAddressStrategy" alias="b2bCommerceDeliveryAddressStrategy"/>
	<bean name="apbB2BCommerceDeliveryAddressStrategy" parent="sabmCommerceDeliveryAddressStrategy">
		<property name="deliveryService" ref="b2bDeliveryService"/>
	</bean>
	
	<bean id="apbEmailConfigurationUtil" class="com.apb.core.util.ApbEmailConfigurationUtil"/>
	
	<bean id="requestedReferenceAttributeHandler"
	      class="com.apb.core.attribute.AsahiRequestedReferenceAttributeHandler">
	</bean>
	<bean id="authorizationIdAttributeHandler"
	      class="com.apb.core.attribute.AsahiAuthorizationIdAttributeHandler">
	</bean>
	
	<bean id="B2BUnitModelValidateInterceptor" class="com.apb.core.interceptor.ApbB2BUnitModelValidateInterceptor">
	<property name="b2bUnitService" ref="b2bUnitService"/>
		<property name="userService" ref="userService"/>
		<property name="modelService" ref="modelService"/>
		<property name="l10NService" ref="l10nService"/>
	</bean>
	
	
	<bean id="orderNetPriceAttributeHandler"
	      class="com.apb.core.attribute.AsahiOrderNetPriceAttributeHandler">
	</bean>

	<bean id="inclusionExclusionProductStrategy"
	      class="com.apb.product.strategy.AsahiInclusionExclusionProductStrategy">
	</bean>
<!-- Need to validate CUB code -->
	 <bean id="apbCompositeEntryJobValidator" class="com.apb.core.interceptor.ApbCompositeEntryJobValidateInterceptor"/>
 <bean id="compositeEntryJobValidatorMapping" class="de.hybris.platform.servicelayer.interceptor.impl.InterceptorMapping">
     <property name="interceptor" ref="apbCompositeEntryJobValidator" />
     <property name="replacedInterceptors" ref="compositeEntryJobValidator"/>
     <property name="typeCode" value="CompositeEntry"/>
 </bean>



	<!-- Asahi Hot folder integration for Data Migration-->


	<import resource="classpath:/asahimigration/integration/hot-folder-store-asahi-spring.xml" />

	<import resource="classpath:/asahimigration/integration/hot-folder-spring.xml" />

	<!-- Asahi Hot folder integration for Data Migration-->
	
<!-- APB Hot folder integration -->
<!--	<import resource="classpath:/apbintegration/integration/hot-folder-store-apb-spring.xml" />-->
<!--		-->
<!--	<import resource="classpath:/apbintegration/integration/hot-folder-spring.xml" />-->

	
<!-- APB Hot folder integration End -->



	<bean id="apbCategoryCodeValueProvider" parent="abstractCategoryCodeValueProvider">
		<property name="categorySource" ref="apbCategorySource" />
	</bean>
	<bean id="apbBrandCategoryCodeValueProvider" parent="abstractCategoryCodeValueProvider">
		<property name="categorySource" ref="apbBrandCategorySource" />
	</bean>
	<bean id="apbCategoryNameValueProvider" parent="abstractCategoryNameValueProvider">
		<property name="categorySource" ref="apbCategorySource" />
	</bean>
	<bean id="apbBrandCategoryNameValueProvider" parent="abstractCategoryNameValueProvider">
		<property name="categorySource" ref="apbBrandCategorySource" />
	</bean>

    <bean id="apbPointOfServiceFacetDisplayNameProvider" class="com.apb.core.search.solrfacetsearch.provider.impl.PointOfServiceFacetDisplayNameProvider">
	<property name="pointOfServiceService" ref="pointOfServiceService" />
	</bean>
	<bean id="apbReplacementGetForceInStockMaxQuantity" class="com.apb.core.replacement.strategy.ApbReplacementCommerceCartStrategy" />
	
	<!-- Not required Already merged in CUB
	<alias alias="commerceStockService" name="apbCommerceStockService"/>
	<bean id="apbCommerceStockService" class="com.apb.core.stocks.impl.ApbStockServiceImpl" /> 
	
	
	<alias name="apbDeliveryAddressesLookupStrategyImpl" alias="deliveryAddressesLookupStrategy"/>
	<bean name="apbDeliveryAddressesLookupStrategyImpl"
		class="com.apb.core.strategies.impl.ApbDeliveryAddressesLookupStrategyImpl" />

-->
<!-- verified -->
	<bean id="apbProductReferenceService" class="com.apb.core.product.service.impl.ApbProductReferenceServiceImpl" /> 
<!-- verified -->
	<bean id="apbProductReferenceDao" class="com.apb.core.product.dao.impl.ApbProductReferenceDaoImpl"> 
		<property name="modelService" ref="modelService"/>
		<property name="flexibleSearchService" ref="flexibleSearchService" />
	</bean>
	<!-- verified -->
	<bean id="apbB2BUnitService" class="com.apb.service.b2bunit.impl.ApbB2BUnitServiceImpl" parent="defaultB2BUnitService"/>
		<!-- verified -->
	<bean id="apbB2BUnitDao" class="com.apb.dao.b2bunit.impl.ApbB2BUnitDaoImpl"> 
		<property name="modelService" ref="modelService"/>
		<property name="flexibleSearchService" ref="flexibleSearchService" />
	</bean>
	<!-- verified -->
	<alias alias="customerAccountService" name="apbCustomerAccountServiceImpl"/>
	<bean id="apbCustomerAccountServiceImpl"
			class="com.apb.core.services.impl.ApbCustomerAccountServiceImpl" parent="defaultCustomerAccountService">
	</bean>
	<!-- verified -->
	<alias name="apbCheckoutService" alias="apbCheckoutService"/>
	<bean id="apbCheckoutService" class="com.apb.core.checkout.service.impl.ApbCheckoutServiceImpl" />
	<!-- verified -->
	<alias name="apbCheckoutDao" alias="apbCheckoutDao"/>
	<bean id="apbCheckoutDao"
	      class="com.apb.core.checkout.dao.impl.ApbCheckoutDaoImpl" >
	</bean>
		<!-- verified -->
	<alias alias="emailGenerationService" name="apbEmailGenerationServiceImpl"/>
	<bean id="apbEmailGenerationServiceImpl"
	      class="com.apb.core.email.impl.ApbEmailGenerationServiceImpl" parent="defaultEmailGenerationService">
	</bean>
	
	 <!-- Adding brand and packagetype facet value resovler start -->

	<alias name="apbProductPackageTypesValueResolver" alias="productPackageTypesValueResolver"/>
	<bean id="apbProductPackageTypesValueResolver" class="com.apb.core.search.solrfacetsearch.provider.impl.ApbProductPackageTypeValueResolver" parent="abstractValueResolver">
        <property name="qualifierProvider" ref="languageQualifierProvider" />
    </bean>

	<alias name="apbProductBrandValueResolver" alias="productBrandValueResolver"/>
	<bean id="apbProductBrandValueResolver" class="com.apb.core.search.solrfacetsearch.provider.impl.ApbProductBrandValueResolver" parent="abstractValueResolver">
        <property name="qualifierProvider" ref="languageQualifierProvider" />  
   </bean>        

	<alias name="apbProductAlcoholTypeValueResolver" alias="productAlcoholTypeValueResolver"/>  
	<bean id="apbProductAlcoholTypeValueResolver" class="com.apb.core.search.solrfacetsearch.provider.impl.ApbProductAlcoholTypeValueResolver" parent="abstractValueResolver">
        <property name="qualifierProvider" ref="languageQualifierProvider" />
   </bean>   

   <!-- Adding brand and packagetype facet value resovler end -->
   
   <alias name="apbBrandDisplayValueProvider" alias="apbBrandDisplayValueProvider"/>
   <bean name="apbBrandDisplayValueProvider" class="com.apb.core.search.solrfacetsearch.provider.impl.ApbProductBrandDisplayValueProvider" parent="abstractCategoryCodeValueProvider">
	   <property name="fieldNameProvider" ref="solrFieldNameProvider" />
	   <property name="commonI18NService" ref="commonI18NService" />
		<property name="categorySource" ref="apbCategorySource" />
   </bean>

	 <bean id="requestRegistrationCodeGenerator" class="de.hybris.platform.servicelayer.keygenerator.impl.PersistentKeyGenerator">
		<property name="key" value="${keygen.request.register.code.name}"/>
		<property name="digits" value="${keygen.request.register.code.digits}"/>
		<property name="start" value="${keygen.request.register.code.start}"/>
      <property name="type" value="${keygen.request.register.code.type}"/>
		<property name="template" value="${keygen.request.register.code.template}"/>
	</bean>
	
	<bean id="apbAfterSaveListener" class="com.apb.core.listener.ApbAfterSaveListener">
		<property name="imageFormatMapping" ref="imageFormatMapping"/>
	</bean>

    <bean id="afterDirectDebitSaveEventListener" class="com.apb.core.listener.AfterDirectDebitSaveEventListener" />
<!-- verified -->
	<bean id="asahiCategoryService" class="com.apb.core.service.category.impl.AsahiCategoryServiceImpl" parent="defaultCategoryService" />
	<!-- verified -->
	<bean id="asahiCategoryDao" class="com.apb.core.dao.category.impl.AsahiCategoryDaoImpl">
		<property name="modelService" ref="modelService"/>
		<property name="flexibleSearchService" ref="flexibleSearchService" />
	</bean>
	<!-- Validate again -->
	<bean id="configurationDao" class="com.apb.core.dao.config.impl.AsahiConfigurationDaoImpl">
		<property name="modelService" ref="modelService"/>
		<property name="flexibleSearchService" ref="flexibleSearchService" />
	</bean>
	
	<!--Asahi Configuration Service -->
	<bean id="asahiConfigurationService" class="com.apb.core.service.config.impl.AsahiConfigurationServiceImpl" parent="defaultConfigurationService"/>
	<!-- verified -->
	<bean id="apbNumberKeyGeneratorService" class="com.apb.core.services.impl.ApbNumberKeyGeneratorServiceImpl">
	   <property name="keyGenerator" ref="requestRegistrationCodeGenerator"/>
   </bean>
   <!-- verified -->
   <bean id="asahiMessageService" class="com.apb.core.service.message.impl.AsahiMessageServiceImpl" parent="defaultConfigurationService" />
   <!-- verified -->
   <bean id="asahiMessageDao" class="com.apb.core.dao.message.impl.AsahiMessageDaoImpl">
  		<property name="modelService" ref="modelService"/>
		<property name="flexibleSearchService" ref="flexibleSearchService" />
   </bean>
   <!-- Not Required merged with CUB
   <alias name="apbCommerceAddToCartStrategy" alias="commerceAddToCartStrategy"/>
   <bean id="apbCommerceAddToCartStrategy" class="com.apb.core.order.impl.ApbCommerceAddToCartStrategy" parent="defaultCommerceAddToCartStrategy"/>
   -->
   <!-- verified -->
     <alias name="apbEntryMergeStrategy" alias="entryMergeStrategy"/>
    <bean id="apbEntryMergeStrategy" class="com.apb.core.order.impl.ApbEntryMergeStrategy" parent="defaultEntryMergeStrategy">
    </bean>
    
  	<!--Not Required merged with CUB 
  	<alias alias="orderDao" name="asahiOrderDao"/>
	<bean name="asahiOrderDao" class="com.apb.core.order.dao.impl.AsahiOrderDaoImpl" parent = "defaultOrderDao" />
    -->
    <!-- need to test  -->
   	<alias alias="orderService" name="asahiOrderService"/>
	<bean name="asahiOrderService" class="com.apb.core.services.impl.AsahiOrderServiceImpl" parent="defaultOrderService" />
	
	<bean name="processLogDao" class="com.apb.core.process.log.dao.impl.AsahiProcessLogDaoImpl"  />
   
	<bean name="processLogService" class="com.apb.core.process.log.service.impl.AsahiProcessLogServiceImpl" />
	
	<bean id="asahiSendOrderJob" class="com.apb.core.cronjob.order.AsahiSendOrderJob" parent="abstractJobPerformable" />
	
   <bean id="asahiHolidayInterceptor"  class="com.apb.core.interceptor.AsahiHolidayInterceptor" autowire="byName" scope="tenant"/>
   
   <bean id="asahiHolidayValidatorMapping"
	 class="de.hybris.platform.servicelayer.interceptor.impl.InterceptorMapping">
	 	<property name="interceptor" ref="asahiHolidayInterceptor" />
	 	<property name="typeCode" value="Holiday" />
	</bean>
   
   <bean id="asahiB2BCustomerPrepareInterceptor"  class="com.apb.core.interceptor.AsahiB2BCustomerPrepareInterceptor" autowire="byName" scope="tenant"/>
   
   <bean id="asahiB2BCustomerPrepareInterceptorMapping"
	 class="de.hybris.platform.servicelayer.interceptor.impl.InterceptorMapping">
	 	<property name="interceptor" ref="asahiB2BCustomerPrepareInterceptor" />
	 	<property name="typeCode" value="B2BCustomer" />
	</bean>
   
	
   <bean id="asahiProductValidatornterceptor"  class="com.apb.core.interceptor.AsahiProductValidatorInterceptor"/>
   
   <bean id="asahiProductValidatorMapping"
	 class="de.hybris.platform.servicelayer.interceptor.impl.InterceptorMapping">
	 	<property name="interceptor" ref="asahiProductValidatornterceptor" />
	 	<property name="typeCode" value="ApbProduct" />
	</bean>
	<!-- verified -->
	<bean id="asahiCustomerAccountDao"
			class="com.apb.core.customer.dao.impl.AsahiCustomerAccountDaoImpl" parent="defaultCustomerAccountDao">
	</bean>
	
	<alias name="asahiProductPackageSizeValueResolver" alias="productPackageSizeValueResolver"/>
	<bean id="asahiProductPackageSizeValueResolver" class="com.apb.core.search.solrfacetsearch.provider.impl.AsahiProductPackageSizeValueResolver" parent="abstractValueResolver">
        <property name="qualifierProvider" ref="languageQualifierProvider" />
   </bean>
   
   <alias name="asahiProductPortalUnitVolumeValueResolver" alias="productPortalUnitVolumeValueResolver"/>
	<bean id="asahiProductPortalUnitVolumeValueResolver" class="com.apb.core.search.solrfacetsearch.provider.impl.AsahiProductPortalUnitVolumeValueResolver" parent="abstractValueResolver">
        <property name="qualifierProvider" ref="languageQualifierProvider" />
   </bean>
	<!-- need to test -->
	<!-- <alias name="apbCalculationService" alias="calculationService"/>
	<bean name="apbCalculationService" class="com.apb.core.order.services.impl.ApbCalculationServiceImpl" parent="defaultCalculationService" /> -->
	
	<!-- need to test  -->
	<!-- <alias name="asahiCommerceCartService" alias="commerceCartService"/>
	<bean name="asahiCommerceCartService" class="com.apb.core.services.cart.impl.AsahiCommerceCartServiceImpl" parent="defaultCommerceCartService" /> -->
	
	<!-- need to test  -->
	<!-- <alias name="asahiCommerceCartDao" alias="commerceCartDao"/>
	<bean name="asahiCommerceCartDao" class="com.apb.core.cart.dao.impl.AsahiCommerceCartDaoImpl" parent="defaultCommerceCartDao" /> -->
	
	<!-- need to test  -->
	<alias name="asahiPagedB2BCustomerDaoImpl" alias="pagedB2BCustomerDao"/>
	<bean id="asahiPagedB2BCustomerDaoImpl" class="com.apb.core.customer.dao.impl.AsahiPagedB2BCustomerDaoImpl" parent="defaultPagedB2BCustomerDao">
	</bean> 
<!-- verified -->
	<bean id="orderStatusMappingDao" class="com.apb.core.order.dao.impl.ApbOrderStatusMappingDaoImpl" />
	<!-- verified -->
	<bean id="apbContactUsService" class="com.apb.core.services.impl.ApbContactUsServiceImpl" >
	</bean>
		<!-- verified -->
	<bean id="apbContactUsDao" class="com.apb.dao.contactus.impl.ApbContactUsDaoImpl" >
		<property name="modelService" ref="modelService"/>
		<property name="flexibleSearchService" ref="flexibleSearchService" />
	</bean>
	
	<!-- verified -->
	<!-- Payment Integration bean declaration start -->
	<alias name="asahiPaymentResponseMapperUtil" alias="asahiPaymentResponseMapperUtil"/>
	<bean id="asahiPaymentResponseMapperUtil" class="com.apb.core.card.payment.AsahiPaymentResponseMapperUtil"/>
	
	<alias name="asahiPaymentGatewayContext" alias="asahiPaymentGatewayContext"/>
	<bean id="asahiPaymentGatewayContext" class="com.apb.core.payment.fz.AsahiPaymentGatewayContext"/>
	
	<alias name="asahiPaymentPurchaseRequest" alias="asahiPaymentPurchaseRequest"/>
	<bean id="asahiPaymentPurchaseRequest" class="com.apb.core.payment.fz.models.AsahiPaymentPurchaseRequest"/>
	
	<alias name="asahiPaymentRefundRequest" alias="asahiPaymentRefundRequest"/>
	<bean id="asahiPaymentRefundRequest" class="com.apb.core.payment.fz.models.AsahiPaymentRefundRequest"/>
	
	<alias name="asahiPaymentConfiguration" alias="asahiPaymentConfiguration"/>
	<bean id="asahiPaymentConfiguration" class="com.apb.core.payment.fz.AsahiPaymentConfiguration"/>
	
	<alias name="asahiPaymentBase" alias="asahiPaymentBase"/>
	<bean id="asahiPaymentBase" class="com.apb.core.payment.fz.AsahiPaymentBase" abstract="true"/>
	
	<alias name="asahiPaymentResource" alias="asahiPaymentResource"/>
	<bean id="asahiPaymentResource" class="com.apb.core.payment.fz.net.AsahiPaymentResource" parent ="asahiPaymentBase" abstract="true"/>
	
    <bean id="asahiCreditCardPaymentProxy" class="com.apb.core.payment.fz.net.AsahiCreditCardPaymentProxy" parent="asahiPaymentResource" />
	<alias name="asahiPaymentRefund" alias="asahiPaymentRefund"/>
	<bean id="asahiPaymentRefund" class="com.apb.core.payment.fz.models.AsahiPaymentRefund" parent ="asahiPaymentResource"/>
	
	<alias name="asahiPaymentCaptureRequest" alias="asahiPaymentCaptureRequest"/>
	<bean id="asahiPaymentCaptureRequest" class="com.apb.core.payment.fz.models.AsahiPaymentCaptureRequest" parent ="asahiPaymentResource"/>
	
	<alias name="asahiPaymentResponse" alias="asahiPaymentResponse"/>
	<bean id="asahiPaymentResponse" class="com.apb.core.payment.fz.models.AsahiPaymentResponse"/>
	<!-- verified -->
	<bean id="asahiCreditCardPaymentService" class="com.apb.core.card.payment.impl.AsahiCreditCardPaymentServiceImpl"/>
	
	<alias name="asahiPaymentPurchase" alias="asahiPaymentPurchase"/>
	<bean id="asahiPaymentPurchase" class="com.apb.core.payment.fz.models.AsahiPaymentPurchase" parent ="asahiPaymentResource"/>
	<!-- verified -->
	<alias name="asahiPaymentRequestResponseAuditStrategy" alias="asahiPaymentRequestResponseAuditStrategy"/>
	<bean id="asahiPaymentRequestResponseAuditStrategy" class="com.apb.core.card.payment.strategy.impl.AsahiPaymentRequestResponseAuditStrategyImpl">
	<property name="asahiPaymentTransactionReverseConverter" ref="asahiPaymentTransactionReverseConverter" />
	<property name="modelService" ref="modelService" />
	
	</bean>
	<!-- verified -->
	<alias name="asahiPaymentCaptureRequestService" alias="asahiPaymentCaptureRequestService"/>
	<bean id="asahiPaymentCaptureRequestService" class="com.apb.core.card.payment.impl.AsahiPaymentCaptureRequestServiceImpl"/>
	
	
		
	<!-- Payment Integration bean declaration end -->
	<!-- Need to test -->
	<alias name="asahiCommercePlaceOrderStrategy" alias="commercePlaceOrderStrategy" />
	<bean id="asahiCommercePlaceOrderStrategy" class="com.apb.core.place.order.strategy.AsahiCommercePlaceOrderStrategy" parent="defaultCommercePlaceOrderStrategy"/>
	<!-- Need to test -->
	<alias alias="createOrderFromCartStrategy" name="apbCreateOrderFromCartStrategy"/>
	<bean id="apbCreateOrderFromCartStrategy"
			class="com.apb.core.order.strategies.impl.ApbCreateOrderFromCartStrategy">
        <property name="cartValidator" ref="cartValidator"/>
        <property name="cloneAbstractOrderStrategy" ref="cloneAbstractOrderStrategy"/>
        <property name="keyGenerator"
                  ref="#{configurationService.configuration.getProperty('commerceservices.orderCode.keyGenerator')}"/>
	</bean>

    <bean id="asahiOrderCodeGenerator" class="com.apb.core.order.strategies.impl.AsahiOrderCodeGenerator">
        <property name="orderCodeGenerator" ref="orderCodeGenerator" />
    </bean>
<!-- Need to test -->
	<!-- <alias alias="b2bOrderService" name="defaultB2BOrderService"/>
	<bean id="defaultB2BOrderService" class="de.hybris.platform.b2b.services.impl.DefaultB2BOrderService" parent="defaultOrderService">
		<property name="baseDao" ref="baseDao"/>
		<property name="b2bOrderDao" ref="b2bOrderDao"/>
		<property name="b2bUnitService" ref="b2bUnitService"/>
		<property name="b2bCustomerService" ref="b2bCustomerService"/>
		<property name="i18nService" ref="defaultI18NService"/>
		<property name="userService" ref="defaultUserService"/>
		<property name="b2bCreateOrderFromCartStrategy" ref="createOrderFromCartStrategy"/>
		<property name="cartToOrderCronJobModelDao" ref="defaultCartToOrderCronJobModelDao"/>
		<property name="searchRestrictionService" ref="searchRestrictionService"/>
		<property name="workflowProcessingService" ref="workflowProcessingService"/>
	</bean> -->
	<!-- verified -->
	<bean id="apbAddressService" class="com.apb.core.service.address.impl.AsahiAddressServiceImpl">
	</bean>   
	
	<bean id="apbAddressDao" class="com.apb.core.dao.address.impl.AsahiAddressDaoImpl">
	</bean>
	<!-- Need to test and confirm the property -->
	<alias alias="commerceCartCalculationStrategy" name="apbCommerceCartCalculationStrategy"/>
	<alias alias="checkoutCartCalculationStrategy" name="apbCommerceCartCalculationStrategy"/>
	<bean id="apbCommerceCartCalculationStrategy"
			class="com.apb.core.order.services.impl.ApbCommerceCartCalculationStrategy" parent="defaultCommerceCartCalculationStrategy">
	</bean>
		
	<!-- Need to validate -->
	<!-- <alias alias="cartValidationStrategy" name="apbCartValidationStrategy"/>
	<bean id="apbCartValidationStrategy"
		  class="com.apb.core.cart.validation.strategy.ApbCartValidationStrategyImpl"
		  parent="defaultB2BCartValidationStrategy"/> -->
<!-- verified -->
	<bean id="asahiBonusCartValidationStrategy"
			class="com.apb.core.cart.validation.strategy.impl.AsahiBonusCartValidationStrategyImpl">
	</bean>
	
	<bean id="asahiSiteUtil" class="com.apb.core.util.AsahiSiteUtil"/>
	<bean id="asahiDateUtil" class="com.apb.core.util.AsahiDateUtil"/>
	<!-- verified -->
	<bean id="apbProductStockInCartEntryService" class="com.apb.core.services.cart.impl.ApbProductStockInCartEntryServiceImpl">
   </bean>
   <!-- verified -->
	<alias alias="orderHistoryService" name="apbOrderHistoryService"/>
	<bean id="apbOrderHistoryService"
	      class="com.apb.core.order.history.service.impl.ApbOrderHistoryServiceImpl">
		<property name="modelService" ref="modelService"/>
		<property name="versionIDGenerator" ref="orderCodeGenerator"/>
	</bean>
	<!-- Need to test -->
	<alias name="apbTicketEventEmailStrategy" alias="ticketEventEmailStrategy"/>
	<bean id="apbTicketEventEmailStrategy" class="com.apb.core.ticket.strategy.ApbTicketEventEmailStrategy"
		  parent="defaultTicketEventEmailStrategy" scope="tenant">
	</bean>
	<!-- Need to test -->
	<alias name="apbAssistedServiceServiceImpl" alias="assistedServiceService"/>
    <bean id="apbAssistedServiceServiceImpl" parent="defaultAssistedServiceService" class="com.apb.core.service.assistedserviceservices.impl.ApbAssistedServiceServiceImpl">
    </bean>
    
	<!-- SGA Outlet value provider start -->
	<alias name="asahiProductOutletValueResolver" alias="asahiProductOutletValueResolver"/>
	<bean id="asahiProductOutletValueResolver" class="com.apb.core.search.solrfacetsearch.provider.impl.AsahiProductOutletValueResolver" parent="abstractValueResolver">
        <property name="qualifierProvider" ref="languageQualifierProvider" />
     </bean>
     <!-- Need to test -->
     <alias name="asahiSearchFiltersPopulator" alias="commerceSearchFiltersPopulator" />
	<bean id="asahiSearchFiltersPopulator" class="com.asahi.core.search.populators.AsahiSearchFiltersPopulator" />
     
     <!-- SGA Specific hot folder configuration start -->
	
	<import resource="classpath:/sgaintegration/integration/hot-folder-store-sga-spring.xml" />
	<import resource="classpath:/sgaintegration/integration/hot-folder-category-header-sga-spring.xml" />
	<import resource="classpath:/sgaintegration/integration/hot-folder-customer-header-sga-spring.xml" />
	<import resource="classpath:/sgaintegration/integration/hot-folder-media-header-sga-spring.xml" />
	<import resource="classpath:/sgaintegration/integration/hot-folder-product-header-sga-spring.xml" />
	<import resource="classpath:/sgaintegration/integration/hot-folder-product-reference-header-sga-spring.xml" />
	<import resource="classpath:/sgaintegration/integration/hot-folder-unit-header-sga-spring.xml" />
	
	<!-- SGA Specific hot folder configuration end -->
	
	
	<!-- SGA Order Confirmation Email Configuration  start-->
	<!-- Need to validate -->
	<bean id="asahiGenerateOrderConfirmationEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="AsahiOrderConfirmationEmailTemplate" />
	</bean>
	<!-- Need to validate -->
	<bean id="asahiOrderConfirmationEmailProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/sabmcore/processes/asahiOrderConfirmationEmailProcess.xml" />
	</bean>
	<!-- Need to validate -->
	<bean id="asahiOrderConfirmationEventListener" class="com.apb.core.event.AsahiOrderConfirmationEventListener" parent="abstractAcceleratorSiteEventListener">
		<property name="modelService" ref="modelService" />
		<property name="businessProcessService" ref="businessProcessService" />
	</bean>
	
	<!-- SGA Order Confirmation Email Configuration  end-->
	
	<bean id="generateAssistedForgottenPasswordEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="AssistedForgottenPasswordEmailTemplate" />
	</bean>
	
	<bean id="assistedForgottenPasswordEventListener" class="com.apb.core.event.AsahiAssistForgottenPwdEventListener" parent="abstractAcceleratorSiteEventListener">
		<property name="modelService" ref="modelService" />
		<property name="businessProcessService" ref="businessProcessService" />
	</bean>
	
	<bean id="assistedForgottenPasswordEmailProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/sabmcore/processes/assistedForgottenPasswordEmailProcess.xml" />
	</bean>
	
	<!-- ALB Customer Welcome email through Manage Profile Start-->
	
		<bean id="generateAsahiCustomerWelcomeEmail" parent="abstractGenerateEmailAction">
			<property name="frontendTemplateName" value="AsahiCustomerWelcomeEmailTemplate" />
		</bean>
		
		<bean id="asahiCustomerWelcomeEmailEventListener" class="com.apb.core.event.AsahiCustomerWelcomeEmailEventListener" parent="abstractAcceleratorSiteEventListener">
			<property name="modelService" ref="modelService" />
			<property name="businessProcessService" ref="businessProcessService" />
		</bean>
		
		<bean id="asahiCustomerWelcomeEmailProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
			<property name="resource" value="classpath:/sabmcore/processes/asahiCustomerWelcomeEmailProcess.xml" />
		</bean>
	
	<!-- ALB Customer Welcome email through Manage Profile End-->
		
		
	<!-- ALB Reset Password Email upon user creation through Staff Portal  Start-->
	
	<bean id="generateAsahiPasswordResetEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="AsahiPasswordResetEmailTemplate" />
	</bean>
	
	<bean id="asahiPasswordResetEmailEventListener" class="com.apb.core.event.AsahiPasswordResetEmailEventListener" parent="abstractAcceleratorSiteEventListener">
		<property name="modelService" ref="modelService" />
		<property name="businessProcessService" ref="businessProcessService" />
	</bean>
	
	<bean id="asahiPasswordResetEmailProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/sabmcore/processes/asahiPasswordResetEmailProcess.xml" />
	</bean>
	
	<!-- ALB Reset Password Email upon user creation through Staff Portal  End-->

	<!-- SGA Payment Confirmation Event Listener -->
	<bean id="asahiPaymentConfirmationEventListener" class="com.apb.core.event.AsahiPaymentConfirmationEventListener" parent="abstractAcceleratorSiteEventListener">
		<property name="modelService" ref="modelService" />
		<property name="businessProcessService" ref="businessProcessService" />
	</bean>
	
	<!-- SGA Payment Confirmation Email Configuration -->
	<bean id="generateAsahiPaymentConfirmationEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="AsahiPaymentConfirmationTemplate" />
	</bean>
	
	<bean id="asahiPaymentConfirmationProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/sabmcore/processes/asahiPaymentConfirmationEmailProcess.xml" />
	</bean>
	
	<!-- SGA Payment Confirmation Email Configuration End -->
	
	<bean id="asahiCustomerNotifyEventListener" class="com.apb.core.event.AsahiCustomerNotifyEventListener" parent="abstractAcceleratorSiteEventListener">
		<property name="modelService" ref="modelService" />
		<property name="businessProcessService" ref="businessProcessService" />
	</bean>
		
	<!-- SGA No Delivery Notify Email Configuration -->
	<bean id="generateAsahiNoDeliveryNotifyEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="AsahiNoDeliveryTemplate" />
	</bean>
	
	<bean id="asahiNoDeliveryNotifyEmailProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/sabmcore/processes/asahiNoDeliveryNotifyEmailProcess.xml" />
	</bean>
	
	<!-- SGA No Delivery Notify Email Configuration End -->
	
	<!-- SGA Alternate Call Notify Email Configuration -->
	
	<bean id="generateAsahiAlternateCallDayNotifyEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="AsahiAlternateCallDayTemplate" />
	</bean>
	
	<bean id="asahiAlternateCallDayNotifyEmailProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/sabmcore/processes/asahiAlternateCallDayNotifyEmailProcess.xml" />
	</bean>
	
	<!-- SGA Alternate Call Notify Email Configuration End-->
	
	<!-- SGA Alternate Delivery Notify Email Configuration -->
	<bean id="generateAsahiAlternateDeliveryDateNotifyEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="AsahiAlternateDeliveryDateTemplate" />
	</bean>
	
	<bean id="asahiAlternateDeliveryDateNotifyEmailProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/sabmcore/processes/asahiAlternateDeliveryDateNotifyEmailProcess.xml" />
	</bean>
	
	<!-- SGA Alternate Delivery Notify Email Configuration End-->
	
	<bean id="asahiCoreUtil" class="com.apb.core.util.AsahiCoreUtil"/>
	
	<bean id="asahiDeliveryTimeSlotTranslator" class="com.apb.core.translators.AsahiDeliveryTimeSlotTranslator"/>
	<!-- verified -->
	<bean id="asahiSendOrderToBackenedService"
		class="com.apb.core.order.services.impl.AsahiSendOrderToBackenedServiceImpl" />
		
	<bean id="asahiSendFailedOrderJob" class="com.apb.core.cronjob.order.AsahiSendFailedOrderJob" parent="abstractJobPerformable" />
	
	<alias name="asahiNewProductValueResolver" alias="asahiNewProductValueResolver"/>
	<bean id="asahiNewProductValueResolver" class="com.apb.core.search.solrfacetsearch.provider.impl.AsahiNewProductValueResolver" parent="abstractValueResolver">
        <property name="qualifierProvider" ref="languageQualifierProvider" />
   </bean>
   
   <!-- Asahi Cart Removal Job -->
	<bean id="asahiCartRemovalJob"
	      class="com.apb.core.cronjob.cart.AsahiCartRemovalJob"
	      parent="abstractJobPerformable">
        <property name="configurationService" ref="configurationService"/>
		<property name="commerceCartDao" ref="commerceCartDao"/>
        <property name="commerceSaveCartService" ref="commerceSaveCartService"/>
        <property name="saveCartDao" ref="saveCartDao"/>
		<property name="timeService" ref="timeService"/>
		<property name="userService" ref="userService"/>
	</bean>
	
	<!-- SGA-SAM Bean configurations -->
	<!-- verified -->
	<bean id="asahiSAMInvoiceService" class="com.apb.core.service.sam.invoice.impl.AsahiSAMInvoiceServiceImpl"/>
	<!-- verified -->
	<bean id="asahiSAMInvoiceDao" class="com.apb.core.dao.sam.invoice.impl.AsahiSAMInvoiceDaoImpl">
		<property name="modelService" ref="modelService"/>
		<property name="flexibleSearchService" ref="flexibleSearchService" />
	</bean>
	<!-- verified -->
	<bean id="asahiSAMStatementsService" class="com.apb.core.service.sam.statements.impl.AsahiSAMStatementsServiceImpl"/>
		<!-- verified -->
	<bean id="asahiSAMStatementsDao" class="com.apb.core.dao.sam.statements.impl.AsahiSAMStatementsDaoImpl">
		<property name="modelService" ref="modelService"/>
		<property name="flexibleSearchService" ref="flexibleSearchService" />
	</bean>
	<!-- verified -->
	<bean id="asahiSAMPaymentHistoryService" class="com.apb.core.service.sam.payment.history.impl.AsahiSAMPaymentHistoryServiceImpl"/>
	<!-- verified -->
	<bean id="asahiSAMPaymentHistoryDao" class="com.apb.core.dao.sam.payment.history.impl.AsahiSAMPaymentHistoryDaoImpl">
		<property name="modelService" ref="modelService"/>
		<property name="flexibleSearchService" ref="flexibleSearchService" />
	</bean>

	
	<bean id="asahiPaginationUtil" class="com.apb.core.util.AsahiPaginationUtil"/>
     
    <alias name="asahiCoreUserDetailsService" alias="coreUserDetailsService"/>
	<alias name="asahiCoreUserDetailsService" alias="originalUidUserDetailsService"/>
	<bean id="asahiCoreUserDetailsService" class="com.apb.core.services.AsahiCoreUserDetailsService"/>
	
	 <!-- <bean id="asahiOrderCodeGenerator" class="de.hybris.platform.servicelayer.keygenerator.impl.PersistentKeyGenerator">
		<property name="digits" value="8"/>
		<property name="start" value="0000000000"/>
      <property name="type" value="numeric"/>
	</bean> -->
	
	<bean id="asahiRemoveOldDocumentJob" class="com.apb.core.cronjob.sam.AsahiRemoveOldDocumentJob" parent="abstractJobPerformable">
		<property name="modelService" ref="modelService"/>
	</bean>
		<!-- verified -->
	<bean id="defaultOrgUnitHierarchyService" class="com.apb.core.services.impl.AsahiOrgUnitHierarchyServiceImpl">
		<property name="orgUnitDao" ref ="orgUnitDao"/>
		<property name="sessionService" ref ="sessionService"/>
		<property name="modelService" ref ="modelService"/>
	</bean>
	
	<!-- Process definition for payer Access START -->
	<bean id="asahiPayerAccessEventListener" class="com.apb.core.event.AsahiPayerAccessEventListener" parent="abstractAcceleratorSiteEventListener">
		<property name="modelService" ref="modelService" />
		<property name="businessProcessService" ref="businessProcessService" />
	</bean>

	<bean id="generateRequestPayerAccessEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="RequestPayerAccessEmailTemplate" />
	</bean>
	<bean id="requestPayerAccessEmailProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/sabmcore/processes/requestPayerAccessEmailProcess.xml" />
	</bean>
	
	<bean id="generateApprovePayerAccessEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="ApprovePayerAccessEmailTemplate" />
	</bean>
	<bean id="approvePayerAccessEmailProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/sabmcore/processes/approvePayerAccessEmailProcess.xml" />
	</bean>
	
	<bean id="generateRejectPayerAccessEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="RejectPayerAccessEmailTemplate" />
	</bean>
	<bean id="rejectPayerAccessEmailProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/sabmcore/processes/rejectPayerAccessEmailProcess.xml" />
	</bean>
	
	<bean id="generateExpiredPayerAccessEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="ExpiredPayerAccessEmailTemplate" />
	</bean>
	<bean id="expiredPayerAccessEmailProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/sabmcore/processes/expiredPayerAccessEmailProcess.xml" />
	</bean>
	
	<bean id="generateSuperUserRequestPayerAccessEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="SuperUserRequestPayerAccessEmailTemplate" />
	</bean>
	<bean id="superUserRequestPayerAccessEmailProcessDefinitionResource" class="de.hybris.platform.processengine.definition.ProcessDefinitionResource">
		<property name="resource" value="classpath:/sabmcore/processes/superUserRequestPayerAccessEmailProcess.xml" />
	</bean>
	<!-- Process definition for payer Access END -->
	
	<bean id="asahiDirectDebitValidatorInterceptor"  class="com.apb.core.interceptor.AsahiDirectDebitValidatorInterceptor"/>
   
   <bean id="asahiDirectDebitValidatorMapping"
	 class="de.hybris.platform.servicelayer.interceptor.impl.InterceptorMapping">
	 	<property name="interceptor" ref="asahiDirectDebitValidatorInterceptor" />
	 	<property name="typeCode" value="AsahiSAMDirectDebit" />
	</bean>
	
	<bean id="asahiDirectDebitRemoveInterceptor"  class="com.apb.core.interceptor.AsahiDirectDebitRemoveInterceptor"/>
   
   <bean id="asahiDirectDebitRemoveMapping"
	 class="de.hybris.platform.servicelayer.interceptor.impl.InterceptorMapping">
	 	<property name="interceptor" ref="asahiDirectDebitRemoveInterceptor" />
	 	<property name="typeCode" value="AsahiSAMDirectDebit" />
	</bean>
	<bean id="asahiRemoveOldOrderJob" class="com.apb.core.cronjob.order.AsahiRemoveOldOrderJob" parent="abstractJobPerformable">
	</bean>

	<!-- Order hooks -->
	<bean id="removeTransactionOnAccountOrderHook" class="com.apb.core.order.hooks.RemoveTransactionOnAccountOrderHook">
		<property name="cartService" ref="defaultCartService" />
	</bean>
	<!-- To to validate -->
	<bean id="removeTransactionOnAccountOrderHookListMergeDirective" depends-on="commercePlaceOrderMethodHooks" parent="listMergeDirective">
		<property name="add" ref="removeTransactionOnAccountOrderHook" />
	</bean>

	<bean id="sipProcessFailedObjectsJob" class="com.apb.core.cronjob.sam.SIPProcessFailedObjectsJob" parent="abstractJobPerformable"/>

    <bean id="adhocCoreUtil" class="com.apb.core.util.AsahiAdhocCoreUtil"/>

	
	<!-- ALB code end -->
    <bean id="volumePriceComparator" class="com.sabmiller.core.comparators.VolumeAwarePriceInformationComparator" scope="singleton"/>

    <bean id="productVolumePricesProvider" class="com.sabmiller.core.search.solrfacetsearch.provider.impl.ProductVolumePricesProvider"  parent="abstractPropertyFieldValueProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="priceService" ref="priceService"/>
    </bean>
	<!-- Need to validate the property -->
	<bean id="sabmCommerceCheckoutService" class="com.sabmiller.core.order.impl.SabmCommerceCheckoutServiceImpl" parent="defaultCommerceCheckoutService">
        <property name="commercePlaceOrderStrategy" ref="sabmB2BCommercePlaceOrderStrategy"/>
	</bean>

	<bean id="abstractCategoryCodeValueProvider" abstract="true"
	      class="de.hybris.platform.commerceservices.search.solrfacetsearch.provider.impl.CategoryCodeValueProvider"
	      parent="abstractPropertyFieldValueProvider" >
		<property name="fieldNameProvider" ref="solrFieldNameProvider"/>
		<property name="commonI18NService" ref="commonI18NService"/>
	</bean>
	<bean id="abstractCategoryNameValueProvider" abstract="true"
	      class="de.hybris.platform.commerceservices.search.solrfacetsearch.provider.impl.CategoryNameValueProvider"
	      parent="abstractPropertyFieldValueProvider" >
		<property name="fieldNameProvider" ref="solrFieldNameProvider"/>
		<property name="commonI18NService" ref="commonI18NService"/>
	</bean>

	<bean id="sabFormatterUtil" class="com.sabmiller.core.util.SABMFormatterUtils" scope="singleton" >
	<property name="configurationService" ref="configurationService"/>
	</bean>
	
	<bean id="imageHeroValueProvider" parent="abstractImageValueProvider" >
		<property name="mediaFormat" value="SABMHeroFormat"/>
	</bean>
	<bean id="imageNormalValueProvider" parent="abstractImageValueProvider" >
		<property name="mediaFormat" value="SABMNormalFormat"/>
	</bean>
	<bean id="imageThumbnailValueProvider" parent="abstractImageValueProvider" >
		<property name="mediaFormat" value="SABMThumbnailFormat"/>
	</bean>
	<bean id="imageCartValueProvider" parent="abstractImageValueProvider" >
		<property name="mediaFormat" value="SABMCartFormat"/>
	</bean>
	<bean id="imageWatchValueProvider" parent="abstractImageValueProvider" >
		<property name="mediaFormat" value="SABMWatchFormat"/>
	</bean>

	<bean id="productUrlValueProvider"
	      class="de.hybris.platform.commerceservices.search.solrfacetsearch.provider.impl.ProductUrlValueProvider"
	      parent="abstractPropertyFieldValueProvider" >
		<property name="urlResolver" ref="productModelUrlResolver"/>
		<property name="fieldNameProvider" ref="solrFieldNameProvider"/>
		<property name="i18nService" ref="i18nService"/>
		<property name="commonI18NService" ref="commonI18NService"/>
	</bean>

	<bean id="promotionCodeValueProvider"
	      class="de.hybris.platform.commerceservices.search.solrfacetsearch.provider.impl.PromotionCodeValueProvider"
	      parent="abstractPropertyFieldValueProvider" >
		<property name="promotionsService" ref="promotionsService"/>
		<property name="fieldNameProvider" ref="solrFieldNameProvider"/>
	</bean>

	<bean id="promotionImageValueProvider"
	      class="de.hybris.platform.commerceservices.search.solrfacetsearch.provider.impl.PrimaryPromotionImageValueProvider"
	      parent="abstractPropertyFieldValueProvider" >
		<property name="promotionsService" ref="promotionsService"/>
		<property name="fieldNameProvider" ref="solrFieldNameProvider"/>
	</bean>
	
	<bean id="productNameProvider" class="com.sabmiller.core.search.solrfacetsearch.provider.impl.ProductNameProvider"  parent="abstractPropertyFieldValueProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="commonI18NService" ref="commonI18NService"/>
    </bean>
	

	
	<!--
		Event listeners are singletons, therefore the dependency for a bean in tenant-scope
		must be configured with a lookup method.
	-->
	<bean id="orderCancelledEventListener"
	      class="com.sabmiller.core.event.OrderCancelledEventListener" parent="abstractSiteEventListener">
		<property name="modelService" ref="modelService"/>
		<property name="businessProcessService" ref="businessProcessService"/>
	</bean>
	<bean id="orderRefundEventListener"
	      class="com.sabmiller.core.event.OrderRefundEventListener" parent="abstractSiteEventListener">
		<property name="modelService" ref="modelService"/>
		<property name="businessProcessService" ref="businessProcessService"/>
	</bean>
	<bean id="customerRegistrationEventListener"
	      class="com.sabmiller.core.event.RegistrationEventListener" parent="abstractAcceleratorSiteEventListener">
		<property name="modelService" ref="modelService"/>
		<property name="businessProcessService" ref="businessProcessService"/>
	</bean>
	<bean id="forgottenPasswordEventListener"
	      class="com.sabmiller.core.event.ForgottenPasswordEventListener" parent="abstractSiteEventListener">
		<property name="modelService" ref="modelService"/>
		<property name="businessProcessService" ref="businessProcessService"/>
	</bean>
	<bean id="submitOrderEventListener" class="com.sabmiller.core.event.SubmitOrderEventListener" parent="abstractSiteEventListener">
		<property name="businessProcessService" ref="businessProcessService"/>
		<property name="modelService" ref="modelService"/>
		<property name="baseStoreService" ref="baseStoreService"/>
	</bean>
	<bean id="orderConfirmationEventListener"
	      class="com.sabmiller.core.event.OrderConfirmationEventListener" parent="abstractSiteEventListener">
		<property name="modelService" ref="modelService"/>
		<property name="businessProcessService" ref="businessProcessService"/>
	</bean>
	
	<bean id="bdeOrderConfirmationEventListener"
	      class="com.sabmiller.core.event.BdeOrderConfirmationEventListener" parent="abstractSiteEventListener">
		<property name="modelService" ref="modelService"/>
		<property name="businessProcessService" ref="businessProcessService"/>
	</bean>
	<bean id="sendDeliveryMessageEventListener"
	      class="com.sabmiller.core.event.SendDeliveryMessageEventListener" parent="abstractEventListener">
		<property name="modelService" ref="modelService"/>
		<property name="businessProcessService" ref="businessProcessService"/>
	</bean>
	<bean id="sendReadyForPickupMessageEventListener"
	      class="com.sabmiller.core.event.SendReadyForPickupMessageEventListener" parent="abstractEventListener">
		<property name="modelService" ref="modelService"/>
		<property name="businessProcessService" ref="businessProcessService"/>
	</bean>
	<bean id="sendOrderPartiallyCanceledMessageEventListener"
	      class="com.sabmiller.core.event.SendOrderPartiallyCanceledMessageEventListener" parent="abstractEventListener">
		<property name="modelService" ref="modelService"/>
		<property name="businessProcessService" ref="businessProcessService"/>
	</bean>
	<bean id="sendOrderPartiallyRefundedMessageEventListener"
	      class="com.sabmiller.core.event.SendOrderPartiallyRefundedMessageEventListener" parent="abstractEventListener">
		<property name="modelService" ref="modelService"/>
		<property name="businessProcessService" ref="businessProcessService"/>
	</bean>
	<bean id="sendNotPickedUpConsignmentCanceledMessageEventListener"
	      class="com.sabmiller.core.event.SendNotPickedUpConsignmentCanceledMessageEventListener" parent="abstractEventListener">
		<property name="modelService" ref="modelService"/>
		<property name="businessProcessService" ref="businessProcessService"/>
	</bean>
	<bean id="orderCompletedEventListener" class="com.sabmiller.core.event.OrderCompletedEventListener" parent="abstractSiteEventListener">
		<property name="modelService" ref="modelService"/>
		<property name="businessProcessService" ref="businessProcessService"/>
	</bean>
	
	<bean id="welcomeEmailEventListener" class="com.sabmiller.core.event.WelcomeEmailEventListener" parent="abstractSiteEventListener">
		<property name="modelService" ref="modelService"/>
		<property name="businessProcessService" ref="businessProcessService"/>
	</bean>
	
	<!-- wave2-ref24: start -->
	<bean id="orderCutoffNotificationEmailEventListener"
	      class="com.sabmiller.core.event.OrderCutoffNotificationEmailEventListener" parent="abstractSiteEventListener">
	</bean>
	
	<bean id="orderDispatchNotificationEmailEventListener"
	      class="com.sabmiller.core.event.OrderDispatchNotificationEmailEventListener" parent="abstractSiteEventListener">
	</bean>
	
	<bean id="dealNotificationEmailEventListener"
		  class="com.sabmiller.core.event.DealNotificationEmailEventListener" parent="abstractSiteEventListener">
	</bean>
	
	
	<!-- wave2-ref24: end -->
	<!--  wave 3track my delivery start -->
	<bean id="orderDeliveredNotificationEmailEventListener"
	      class="com.sabmiller.core.event.OrderDeliveredNotificationEmailEventListener" parent="abstractSiteEventListener">
	</bean>
	
	<bean id="orderUnableToDeliverNotificationEmailEventListener"
	      class="com.sabmiller.core.event.OrderUnableToDeliverNotificationEmailEventListener" parent="abstractSiteEventListener">
	</bean>
	
	<bean id="orderNextInQueueDeliveryNotificationEmailEventListener"
	      class="com.sabmiller.core.event.OrderNextInQueueDeliveryNotificationEmailEventListener" parent="abstractSiteEventListener">
	</bean>
	
	
	<bean id="trackOrderTimePassesETANotificationEmailEventListener"
	      class="com.sabmiller.core.event.TrackOrderTimePassesETANotificationEmailEventListener" parent="abstractSiteEventListener">
	</bean>
	
	
	<bean id="trackOrderETAChangesNotificationEmailEventListener"
	      class="com.sabmiller.core.event.TrackOrderETAChangesNotificationEmailEventListener" parent="abstractSiteEventListener">
	</bean>

	<bean id="trackOrderETANotificationEmailEventListener"
		  class="com.sabmiller.core.event.TrackOrderETANotificationEmailEventListener" parent="abstractSiteEventListener">
	</bean>
	
	
	<!--  wave 3track my delivery end -->
	
	<!-- Process resources definition -->

	<bean id="customerRegistrationEmailProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/customerRegistrationEmailProcess.xml"/>
	</bean>
	<bean id="forgottenPasswordEmailProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/forgottenPasswordEmailProcess.xml"/>
	</bean>
	<bean id="businessEnquiryEmailProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/businessEnquiryEmailProcess.xml"/>
	</bean>	
	<bean id="orderConfirmationEmailProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/orderConfirmationEmailProcess.xml"/>
	</bean>
	<bean id="sendDeliveryEmailProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/sendDeliveryEmailProcess.xml"/>
	</bean>
	<bean id="sendReadyForPickupEmailProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/sendReadyForPickupEmailProcess.xml"/>
	</bean>
	<bean id="sendOrderCancelledEmailProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/sendOrderCancelledEmailProcess.xml"/>
	</bean>
	<bean id="sendOrderRefundEmailProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/sendOrderRefundEmailProcess.xml"/>
	</bean>
	<bean id="sendOrderPartiallyCanceledEmailProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/sendOrderPartiallyCanceledEmailProcess.xml"/>
	</bean>
	<bean id="sendOrderPartiallyRefundedEmailProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/sendOrderPartiallyRefundedEmailProcess.xml"/>
	</bean>
	<bean id="sendNotPickedUpConsignmentCanceledEmailProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/sendNotPickedUpConsignmentCanceledEmailProcess.xml"/>
	</bean>

<bean id="customerWelcomeEmailProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/customerWelcomeEmailProcess.xml"/>
	</bean>
	
	<!-- wave2-ref24: start -->
	<bean id="orderCutoffNotificationEmailProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/orderCutoffNotificationEmailProcess.xml"/>
	</bean>
	
	<bean id="orderDispatchNotificationEmailProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/orderDispatchNotificationEmailProcess.xml"/>
	</bean>
	<!-- wave2-ref24: end -->
	<!-- wave3 - track my delivery start -->
	<bean id="orderDeliveryNotificationEmailProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/orderDeliveredNotificationEmailProcess.xml"/>
	</bean>
	<bean id="orderUnableToDeliveryNotificationEmailProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/orderUnableToDeliverNotificationEmailProcess.xml"/>
	</bean>
	
	<bean id="orderNextInQueueDeliveryNotificationEmailProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/orderNextInQueueDeliveryNotificationEmailProcess.xml"/>
	</bean>
	
	<bean id="trackOrderTimePassesETANotificationEmailProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/trackOrderTimePassesETANotificationEmailProcess.xml"/>
	</bean>
	
	<bean id="trackOrderETAChangesNotificationEmailProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/trackOrderETAChangesNotificationEmailProcess.xml"/>
	</bean>

	<bean id="trackOrderETANotificationEmailProcessDefinitionResource"
		  class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/trackOrderETANotificationEmailProcess.xml"/>
	</bean>
	<!-- wave3 - track my delivery end -->
	<!-- Actions -->
	<bean id="abstractAction" class="de.hybris.platform.processengine.action.AbstractAction"
	      abstract="true">
		<property name="modelService" ref="modelService"/>
		<property name="processParameterHelper" ref="processParameterHelper"/>
	</bean>

	<bean id="sendEmail" class="de.hybris.platform.acceleratorservices.process.email.actions.SendEmailAction"
	       parent="abstractAction">
		<property name="emailService" ref="emailService"/>
	</bean>

	<bean id="abstractGenerateEmailAction" class="de.hybris.platform.acceleratorservices.process.email.actions.GenerateEmailAction"
	      parent="abstractAction" abstract="true">
		<property name="modelService" ref="modelService"/>
		<property name="cmsEmailPageService" ref="cmsEmailPageService"/>
		<property name="contextResolutionStrategy" ref="processContextResolutionStrategy"/>
		<property name="emailGenerationService" ref="emailGenerationService"/>
	</bean>

	<!-- wave2-ref24: start -->
	<bean id="generateOrderCutoffNotificationEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="OrderCutoffNotificationEmailTemplate"/>
	</bean>
	
	<bean id="orderCutoffNotificationEmailSentAction"
	      class="com.sabmiller.core.process.email.notification.action.OrderCutoffNotificationEmailSentAction"
	      parent="abstractAction">
		<property name="modelService" ref="modelService"/>
	</bean>
	
	<bean id="generateOrderDispatchNotificationEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="OrderDispatchNotificationEmailTemplate"/>
	</bean>

	<bean id="orderDispatchNotificationEmailSentAction"
	      class="com.sabmiller.core.process.email.notification.action.OrderDispatchNotificationEmailSentAction"
	      parent="abstractAction">
		<property name="modelService" ref="modelService"/>
	</bean>
	
	<bean id="generateDealNotificationEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="DealNotificationEmailTemplate"/>
	</bean>
	<!-- wave2-ref24: end -->
	<!--  wave 3 track order start -->
		<bean id="generateOrderDeliveredNotificationEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="OrderDeliveredNotificationEmailTemplate"/>
	</bean>
	
	<bean id="generateOrderUnableToDeliverNotificationEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="OrderUnableToDeliverNotificationEmailTemplate"/>
	</bean>
	
	<bean id="generateOrderNextInQueueDeliveryNotificationEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="OrderNextInQueueDeliveryNotificationEmailTemplate"/>
	</bean>
	
	
	<bean id="generateTrackOrderTimePassesETANotificationEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="TrackOrderTimePassesETANotificationEmailTemplate"/>
	</bean>
	
	<bean id="trackOrderTimePassesETANotificationEmailSentAction"
	      class="com.sabmiller.core.process.email.notification.action.TrackOrderTimePassesETANotificationEmailSentAction"
	      parent="abstractAction">
		<property name="modelService" ref="modelService"/>
	</bean>
	
	<bean id="generateTrackOrderETAChangesNotificationEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="TrackOrderETAChangesNotificationEmailTemplate"/>
	</bean>



	<bean id="generateTrackOrderETANotificationEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="TrackOrderETANotificationEmailTemplate"/>
	</bean>

	<!--  wave 3 track order end -->
	<bean id="generateCustomerRegistrationEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="CustomerRegistrationEmailTemplate"/>
	</bean>

	<bean id="generateForgottenPasswordEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="ForgottenPasswordEmailTemplate"/>
	</bean>

	<bean id="generateOrderConfirmationEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="OrderConfirmationEmailTemplate"/>
	</bean>
	
	<bean id="generateDeliverySentEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="DeliverySentEmailTemplate"/>
	</bean>

	<bean id="generateReadyForPickupEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="ReadyForPickupEmailTemplate"/>
	</bean>
	
	<bean id="generateOrderCancelledEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="OrderCancelledEmailTemplate"/>
	</bean>
	
	<bean id="generateOrderRefundEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="OrderRefundEmailTemplate"/>
	</bean>

	<bean id="generateOrderPartiallyCanceledEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="OrderPartiallyCanceledEmailTemplate"/>
	</bean>
	<bean id="generateOrderPartiallyRefundedEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="OrderPartiallyRefundedEmailTemplate"/>
	</bean>
	<bean id="generateNotPickedUpConsignmentCanceledEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="NotPickedUpConsignmentCanceledEmailTemplate"/>
	</bean>

<bean id="generateCustomerWelcomeEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="CustomerWelcomeEmailTemplate"/>
	</bean>
	
	<bean id="removeSentEmail"
	      class="de.hybris.platform.acceleratorservices.process.email.actions.RemoveSentEmailAction"
	      parent="abstractAction">
		<property name="modelService" ref="modelService"/>
	</bean>
	
		<bean id="welcomeEmailSentAction"
	      class="com.sabmiller.core.process.email.welcome.action.WelcomeEmailSentAction"
	      parent="abstractAction">
		<property name="modelService" ref="modelService"/>
	</bean>

	<!-- Simple Suggestion Service -->
	<alias alias="simpleSuggestionService" name="defaultSimpleSuggestionService"/>
	<bean id="defaultSimpleSuggestionService"
	      class="com.sabmiller.core.suggestion.impl.DefaultSimpleSuggestionService" >
		<property name="simpleSuggestionDao" ref="simpleSuggestionDao"/>
	</bean>
	<alias alias="simpleSuggestionDao" name="defaultSimpleSuggestionDao"/>
	<bean id="defaultSimpleSuggestionDao"
	      class="com.sabmiller.core.suggestion.dao.impl.DefaultSimpleSuggestionDao"
	      parent="abstractItemDao" >
		<property name="flexibleSearchService" ref="flexibleSearchService"/>
	</bean>

	<bean id="mccSiteUrlHelper" class="com.sabmiller.core.util.MccSiteUrlHelper" >
		<property name="siteBaseUrlResolutionService" ref="siteBaseUrlResolutionService"/>
		<property name="cmsSiteService" ref="cmsSiteService"/>
	</bean>


	<!-- checkout flow configuration -->
	
	<!--<bean id="pickUpInStoreCheckoutFlowStrategy" class="com.sabmiller.core.checkout.flow.impl.PickUpInStoreCheckoutFlowStrategy" >
		<property name="pickupStrategy" ref="pickupStrategy" />
		<property name="defaultStrategy" ref="siteCheckoutFlowStrategy"/>
		<property name="multiStepCheckoutFlowStrategy" ref="multiStepCheckoutFlowStrategy" />
	</bean>	

	<bean id="siteCheckoutFlowStrategy"
	      class="com.sabmiller.core.checkout.flow.impl.SiteCheckoutFlowStrategy" >
		&lt;!&ndash; This strategy looks up a strategy based on the current site UID &ndash;&gt;
		<property name="cmsSiteService" ref="cmsSiteService"/>
		<property name="siteMappings">
			<map>
				<entry key="powertoolsstore" value-ref="multiStepCheckoutFlowStrategy"/>
			</map>
		</property>
		&lt;!&ndash; Default to SINGLE step checkout &ndash;&gt;
		<property name="defaultStrategy" ref="multiStepCheckoutFlowStrategy"/>
	</bean>

	<bean id="newCustomerCheckoutFlowStrategy"
	      class="com.sabmiller.core.checkout.flow.impl.NewCustomerCheckoutFlowStrategy" >
		&lt;!&ndash; This strategy works out if the user has created any data &ndash;&gt;
		<property name="userService" ref="userService"/>
		<property name="customerAccountService" ref="customerAccountService"/>
		<property name="defaultStrategy" ref="multiStepCheckoutFlowStrategy"/>
		<property name="newCustomerStrategy" ref="multiStepCheckoutFlowStrategy"/>
	</bean>-->
	
	<bean id="productUnitListHandler" class="com.sabmiller.core.handlers.ProductUnitListHandler" />
	<bean id="productPurchasableFlagHandler" class="com.sabmiller.core.handlers.ProductPurchasableFlagHandler">
		<property name="productService" ref="productService"/>
	</bean>
	<bean id="productSearchableFlagHandler" class="com.sabmiller.core.handlers.ProductSearchableFlagHandler">
		<property name="productService" ref="productService"/>
	</bean>
	<bean id="productVisibleFlagHandler" class="com.sabmiller.core.handlers.ProductVisibleFlagHandler">
		<property name="productService" ref="productService"/>
	</bean>

	<bean id="unitOrderTemplatesHandler" class="com.sabmiller.core.handlers.UnitOrderTemplatesHandler" />
<!-- verified -->
	<alias name="defaultSabmB2BUnitService" alias="b2bUnitService"/>
	<alias name="defaultSabmB2BUnitService" alias="sabmB2BUnitService" />
	<bean id="defaultSabmB2BUnitService" class="com.sabmiller.core.b2b.services.DefaultSabmB2BUnitService"
	parent="defaultB2BUnitService"></bean>
	
	<alias name="defaultSabmUnitService" alias="unitService"/>
	<bean id="defaultSabmUnitService" class="com.sabmiller.core.product.DefaultSabmUnitService"
	parent="defaultUnitService"></bean>
	<!-- verified -->
	<alias alias="b2bUnitDao" name="defaultSabmB2BUnitDao"/>
	<bean id="defaultSabmB2BUnitDao" class="com.sabmiller.core.b2b.dao.DefaultSabmB2BUnitDaoImpl" parent="defaultB2BUnitDao">
	</bean>
		<!-- verified -->
	<alias alias="sabmOrderTemplateService" name="defaultSabmOrderTemplateService"/>
	<bean id="defaultSabmOrderTemplateService" class="com.sabmiller.core.b2b.services.DefaultSabmOrderTemplateService" />
	
	<alias alias="sabmOrderTemplateDao" name="defaultSabmOrderTemplateDao"/>
	<bean id="defaultSabmOrderTemplateDao" class="com.sabmiller.core.b2b.dao.DefaultSabmOrderTemplateDao" parent="defaultB2BUnitDao" />
	
	<alias name="defaultSabmProductService" alias="productService"/>
	<bean id="defaultSabmProductService" class="com.sabmiller.core.product.DefaultSabmProductService"
	parent="defaultProductService">
		<property name="validSapAvailStatusList">
			<array>
				<value type="com.sabmiller.core.enums.SAPAvailabilityStatus">X6</value>
				<value type="com.sabmiller.core.enums.SAPAvailabilityStatus">X7</value>
				<!-- <value type="com.sabmiller.core.enums.SAPAvailabilityStatus">X8</value> -->
			</array>
		</property>
        <property name="sabmAzureStorageUtils" ref="sabmAzureStorageUtils"/>
        <property name="configurationService" ref="configurationService"/>
	</bean>
	<!-- verified -->
	<alias name="defaultSabmCategoryService" alias="categoryService"/>
	<bean id="defaultSabmCategoryService" class="com.sabmiller.core.category.DefaultSabmCategoryService"
	parent="defaultCategoryService"></bean>
	
	<alias alias="productDao" name="defaultSabmProductDao"/>
	<bean id="defaultSabmProductDao" class="com.sabmiller.core.product.dao.DefaultSabmProductDao"
	 parent="defaultProductDao">
	 </bean>
	
	<util:map id="categoryAttributeCodeMap" key-type="java.lang.String" value-type="java.lang.String">
		<entry key="110" value="10"/>
		<entry key="120" value="11"/>
		<entry key="230" value="12"/>
		<entry key="220" value="14"/>
		<entry key="130" value="15"/>
		<entry key="310" value="13"/>
		<entry key="320" value="13"/>
		<entry key="400" value="13"/>
		<entry key="600" value="13"/>
		<entry key="800" value="13"/>
		<entry key="900" value="13"/>
	</util:map>
	
	<util:map id="categoryAttributeNameMap" key-type="java.lang.String" value-type="java.lang.String">
		<entry key="110" value="Beer"/>
		<entry key="120" value="Cider"/>
		<entry key="230" value="Spirits"/>
		<entry key="220" value="Wine"/>
		<entry key="130" value="RTDS"/> 
		<!-- Non Alc & Coffee Products Code -->
		<entry key="310" value="Non Alcoholic"/> 
		<entry key="320" value="Non Alcoholic"/>  
	    <entry key="400" value="Non Alcoholic"/>  
	    <entry key="600" value="Non Alcoholic"/>   
	    <entry key="800" value="Non Alcoholic"/>   
	    <entry key="900" value="Non Alcoholic"/>   
	 </util:map>
	
	<bean id="hybrisCategoryInfoDeterminationStrategy" class="com.sabmiller.core.product.strategy.DefaultHybrisCategoryInfoDeterminationStrategy">
		<property name="categoryAttributeCodeMap" ref="categoryAttributeCodeMap"/>
		<property name="categoryAttributeNameMap" ref="categoryAttributeNameMap"/>
	</bean>
	
	
	<bean id="catalogVersionDeterminationStrategy" class="com.sabmiller.core.product.strategy.CatalogVersionDeterminationStrategy"></bean>
<!-- verified -->		
	<bean id="unloadingPointUpdateStrategy" class="com.sabmiller.core.b2bunit.strategy.UnloadingPointUpdateStrategy"></bean>
<!-- verified -->	
	<bean id="shippingCarrierUpdateStrategy" class="com.sabmiller.core.b2bunit.strategy.ShippingCarrierUpdateStrategy"></bean>
<!-- verified -->	
	<bean id="salesDataUpdateStrategy" class="com.sabmiller.core.b2bunit.strategy.SalesDataUpdateStrategy"></bean>
<!-- verified -->	
	<bean id="salesOrgDataUpdateStrategy" class="com.sabmiller.core.b2bunit.strategy.SalesOrgDataUpdateStrategy"></bean>
<!-- verified -->
	<bean id="addressUpdateStrategy" class="com.sabmiller.core.b2bunit.strategy.AddressUpdateStrategy"></bean>
<!-- verified -->
	<bean id="sapGroupUpdateStrategy" class="com.sabmiller.core.b2bunit.strategy.SapGroupUpdateStrategy"></bean>
<!-- verified -->
	<bean id="deliveryPlantUpdateStrategy" class="com.sabmiller.core.b2bunit.strategy.DeliveryPlantUpdateStrategy"></bean>
		<!-- verified -->
	<bean id="sabmB2BUnitReversePopulator" class="com.sabmiller.core.b2bunit.converters.populator.SabmB2BUnitReversePopulator"></bean>
	<!-- verified -->
	<bean id="unloadingPointReversePopulator" class="com.sabmiller.core.b2bunit.converters.populator.UnloadingPointReversePopulator"></bean>
	<!-- verified -->
	<bean id="shippingCarrierReversePopulator" class="com.sabmiller.core.b2bunit.converters.populator.ShippingCarrierReversePopulator"></bean>
	<!-- verified -->
	<bean id="salesDataReversePopulator" class="com.sabmiller.core.b2bunit.converters.populator.SalesDataReversePopulator"></bean>
	<!-- verified -->
	<bean id="salesDataPopulator" class="com.sabmiller.core.b2bunit.converters.populator.SalesDataPopulator"></bean>
	<!-- verified -->
	<bean id="salesOrgDataReversePopulator" class="com.sabmiller.core.b2bunit.converters.populator.SalesOrgDataReversePopulator"></bean>
		<!-- verified -->
	<bean id="b2bUnitGroupReversePopulator" class="com.sabmiller.core.b2bunit.converters.populator.B2BUnitGroupReversePopulator"></bean>
	<!-- verified -->
	<bean id="deliveryPlantReversePopulator" class="com.sabmiller.core.b2bunit.converters.populator.DeliveryPlantReversePopulator"></bean>
		<!-- verified -->
<bean id="unloadingPointPopulator" class="com.sabmiller.core.b2bunit.converters.populator.UnloadingPointPopulator"></bean>
	
	<!-- Product Reference Lookup
	<alias name="apparelCrossSellingProductReferenceTargetStrategy" alias="crossSellingProductReferenceTargetStrategy"/>
	<bean id="apparelCrossSellingProductReferenceTargetStrategy"
	      parent="defaultCrossSellingProductReferenceTargetStrategy">
		<property name="productReferenceTargetStrategies">
			<list merge="true">
				<ref bean="apparelSizeProductReferenceTargetStrategy"/>
			</list>
		</property>
	</bean>

	<bean id="apparelSizeProductReferenceTargetStrategy"
	      class="com.sabmiller.core.strategies.impl.ApparelSizeProductReferenceTargetStrategy">
		<property name="commerceCategoryService" ref="commerceCategoryService"/>
		<property name="rootCategoryCode" value="categories"/>
	</bean>
	-->
	
	<bean id="productUOMProvider" class="com.sabmiller.core.search.provider.impl.ProductUOMProvider"  parent="abstractPropertyFieldValueProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
    </bean>
    	<!-- verified -->
    <alias name="defaultSABMProductExclusionService" alias="sabmProductExclusionService" />
    <bean id="defaultSABMProductExclusionService" class="com.sabmiller.core.b2b.services.DefaultSABMProductExclusionService" />
    <!-- verified -->
    <alias name="defaultSABMProductExclusionDao" alias="sabmProductExclusionDao" />
    <bean id="defaultSABMProductExclusionDao" class="com.sabmiller.core.b2b.dao.DefaultSABMProductExclusionDao" />
 
    <bean id="productExclusionListener" class="com.sabmiller.core.search.listners.ProductExclusionListener" />
    <bean id="productSearchabeListener" class="com.sabmiller.core.search.listners.ProductSearchabeListener" />

	 <bean id="productExclusionListenerDefinition" parent="solrListenerDefinition">
		<property name="listener" ref="productExclusionListener" />
	 </bean>
    <bean id="productSearchabeListenerDefinition" parent="solrListenerDefinition">
		<property name="listener" ref="productSearchabeListener" />
	 </bean>
	
	 <alias name="sabmSolrQueryConverter" alias="solrQueryConverter" />
	 <bean id="sabmSolrQueryConverter" class="com.sabmiller.core.solr.query.converter.SABMSolrQueryConverter" parent="defaultSolrQueryConverter" />
    
    <!-- SAB-382_SAB-631   start-->
    <alias name="defaultSABMCustomerAccountService" alias="b2bCustomerAccountService" />
	<bean id="defaultSABMCustomerAccountService" parent="defaultB2BCustomerAccountService">
		<property name="tokenValiditySeconds" value="${forgottenPassword.sendEmail.tokenValiditySecond}"/>
	 </bean>
    <!-- SAB-382_SAB-631   end-->
    
    <!-- SAB-560, add by xue.zeng start -->    
    <alias name="defaultSabmPriceRowService" alias="priceRowService" />
    <bean id="defaultSabmPriceRowService" class="com.sabmiller.core.product.DefaultSabmPriceRowService" parent="abstractBusinessService">
    	<property name="productService" ref="productService"/>
    	<property name="commonI18NService" ref="commonI18NService"/>
    	<property name="userService" ref="userService"/>
    	<property name="sabmPriceRowDao" ref="sabmPriceRowDao"/>
    </bean>
    <!-- end -->
    
    <!-- Deals : START -->
<!-- verified -->
    <alias alias="dealsDao" name="defaultDealsDao"/>
    <bean id="defaultDealsDao" class="com.sabmiller.core.deals.dao.DealsDaoImpl"/>
<!-- verified -->
    <alias alias="dealsService" name="defaultDealsService"/>
    <bean id="defaultDealsService" class="com.sabmiller.core.deals.services.DealsServiceImpl">
      <property name="lostDealCheckList">
      	<list>
      		<bean class="com.sabmiller.core.deals.services.DifferentBenefitsMultipleScalesChecker"></bean>
      		<bean class="com.sabmiller.core.deals.services.OneOrMoreProductHierarchyPerHierarchyChecker"></bean>
      		<bean class="com.sabmiller.core.deals.services.OneOrMoreProductHierarchyWithExceptionsChecker"></bean>
      		<bean class="com.sabmiller.core.deals.services.OneOrMoreSKUsPerItemChecker"></bean>
      		<bean class="com.sabmiller.core.deals.services.TwoOrMoreHierarchyAcrossWithExceptionsChecker"></bean>
      		<bean class="com.sabmiller.core.deals.services.TwoOrMoreProductHierarchyAcrossChecker"></bean>
      		<bean class="com.sabmiller.core.deals.services.TwoOrMoreSKUsAcrossChecker"></bean>
      		<bean class="com.sabmiller.core.deals.services.TwoOrMoreSKUsAcrossMinimumQtyPerSKUChecker"></bean>
      		<bean class="com.sabmiller.core.deals.services.LimitedDealChecker"></bean>
      		<bean class="com.sabmiller.core.deals.services.OfferInfoDealChecker"></bean>
      	</list>
      </property>
    </bean>
    <!-- verified -->
     <alias alias="dealsCacheService" name="defaultDealsCacheService"/>
    <bean id="defaultDealsCacheService" class="com.sabmiller.core.deals.services.DealsCacheServiceImpl">
   </bean>
   <!-- verified -->
    <alias alias="dealConditionService" name="defaultDealConditionService"/>
    <bean id="defaultDealConditionService" class="com.sabmiller.core.deals.services.DefaultDealConditionService"/>
    <!-- verified -->
    <alias alias="dealsPriorityService" name="defaultDealsPriorityService"/>
    <bean id="defaultDealsPriorityService" class="com.sabmiller.core.deals.services.DefaultDealsPriorityService"/>

    <!--  SAB-525, Sales Order Simulate start-->
    	<!-- verified -->
   <alias name="defaultSABMCartService" alias="cartService" />
    <bean id="defaultSABMCartService" class="com.sabmiller.core.cart.service.impl.DefaultSABMCartService" parent="defaultB2BCartService">
		<property name="sabmDeliveryShippingCarrierStrategy" ref="sabmDeliveryShippingCarrierStrategy"/>
    </bean>

	<alias name="defaultSABMRecommendationService" alias="recommendationService" />
	<bean id="defaultSABMRecommendationService" class="com.sabmiller.core.recommendation.service.DefaultSabmRecommendationService">
		<property name="sabmAzureStorageUtils" ref="sabmAzureStorageUtils"/>
		<property name="configurationService" ref="configurationService"/>
		<property name="b2bUnitService" ref="b2bUnitService"/>
		<property name="productService" ref="productService"/>
		<property name="recommendationDao" ref="recommendationDao"/>
		<property name="modelService" ref="modelService"/>
		<property name="userService" ref="userService"/>
		<property name="sabmProductExclusionService" ref="sabmProductExclusionService" />
		<property name="cartService" ref="cartService" />
		<property name="sessionService" ref="sessionService" />
		<property name="cubStockInformationService" ref="cubStockInformationService" />
		<property name="sabmConfigurationService" ref="sabmConfigurationService" />
		<property name="b2bCommerceUnitService" ref="b2bCommerceUnitService" />
		<property name="dealsService" ref="dealsService" />
		<property name="sabmProductService" ref="productService" />
	</bean>

	<bean id="sabmAzureStorageUtils" class="com.sabmiller.core.util.SabmAzureStorageUtils">
		<property name="configurationService" ref="configurationService"/>
	</bean>

	<alias name="defaultSABMNotificationService" alias="notificationService" />
	<bean id="defaultSABMNotificationService" class="com.sabmiller.core.notification.service.DefaultSabmNotificationService" parent="defaultNotificationService">
		<property name="salesforceEventMap" ref="salesforceEventMap"/>
	</bean>

	<alias name="defaultSABMNotificationFacade" alias="notificationFacade" />
	<bean id="defaultSABMNotificationFacade" class="com.sabmiller.facades.notification.impl.SABMNotificationFacadeImpl"/>

	<alias name="defaultSabmInvoiceService" alias="invoiceService" />
	<bean id="defaultSabmInvoiceService" class="com.sabmiller.core.invoices.services.DefaultSabmInvoiceService"/>
	<!-- verified -->
	<bean id="salesOrderSimulateCartSyncHelper"
          class="com.sabmiller.core.cart.service.helper.SalesOrderSimulateCartSyncHelper">
        <property name="unitService" ref="unitService"/>
        <property name="productService" ref="productService"/>
        <property name="modelService" ref="modelService"/>
        <property name="commonI18NService" ref="commonI18NService"/>
        <property name="errorEventFacade" ref="errorEventFacade"/>
    </bean>

    <!--Redefining calculation service so nothing happens after cart modifications-->
    <!-- <alias name="sabmAbstractCommerceCartStrategy" alias="abstractCommerceCartStrategy"/>
    <bean id="sabmAbstractCommerceCartStrategy" parent="defaultAbstractCommerceCartStrategy"
          class="de.hybris.platform.commerceservices.order.impl.AbstractCommerceCartStrategy" abstract="true">
        <property name="commerceCartCalculationStrategy" ref="apbCommerceCartCalculationStrategy"/>
        <replaced-method name="getAvailableStockLevel" replacer="apbReplacementGetForceInStockMaxQuantity">
    		<arg-type>de.hybris.platform.core.model.product.ProductModel</arg-type>
        	<arg-type>de.hybris.platform.storelocator.model.PointOfServiceModel</arg-type>
    	</replaced-method> 
    </bean> -->
    
    <alias name="sabmAbstractCommerceCartStrategy" alias="abstractCommerceCartStrategy"/>
    <bean id="sabmAbstractCommerceCartStrategy" parent="defaultAbstractCommerceCartStrategy"
          class="de.hybris.platform.commerceservices.order.impl.AbstractCommerceCartStrategy" abstract="true">
        <property name="commerceCartCalculationStrategy" ref="sabmDummyApbCommerceCartCalculationStrategy"/>
        <replaced-method name="getAvailableStockLevel" replacer="apbReplacementGetForceInStockMaxQuantity">
    		<arg-type>de.hybris.platform.core.model.product.ProductModel</arg-type>
        	<arg-type>de.hybris.platform.storelocator.model.PointOfServiceModel</arg-type>
    	</replaced-method> 
    </bean>

	<bean id="sabmDummyApbCommerceCartCalculationStrategy"
                             class="com.apb.core.order.services.impl.SabmDummyApbCommerceCartCalculationStrategy" parent="defaultCommerceCartCalculationStrategy">
    </bean>

   <!-- Need to test -->
   <!-- <bean id="sabmDummyCommerceCartCalculationStrategy" parent="defaultCommerceCartCalculationStrategy"
          class="de.hybris.platform.commerceservices.order.impl.DefaultCommerceCartCalculationStrategy">
        <property name="calculationService" ref="sabmDummyCalculationService"/>
    </bean> --> 

    <bean id="sabmDummyCalculationService" class="com.sabmiller.core.cart.service.impl.SabmDummyCalculationServiceImpl"/>
    <!--end of - Redefining calculation serice so nothing happens after cart modifications-->

    <bean id="sabmCommerceCartService" class="com.sabmiller.core.cart.service.impl.SabmCommerceCartServiceImpl" parent="defaultCommerceCartService">
	</bean>

    <alias alias="calculationService" name="defaultSabmCalculationService"/>
    <bean id="defaultSabmCalculationService" class="com.sabmiller.core.cart.service.impl.SABMCalculationServiceImpl" parent="defaultCalculationService">
        <property name="commonI18NService" ref="commonI18NService"/>
        <property name="salesOrderSimulateRestHandler" ref="salesOrderSimulateRestHandler"/>
        <property name="cartSyncHelper" ref="salesOrderSimulateCartSyncHelper"/>
        <property name="salesOrderSimulateRequestConverter" ref="salesOrderSimulateRequestConverter"/>
		<property name="findPriceStrategy" ref="findPriceStrategy"/>
		<property name="findDiscountsStrategies" ref="discountStrategiesFinderList"/>
		<property name="findTaxesStrategies" ref="taxesStrategiesFinderList"/>
		<property name="findDeliveryCostStrategy" ref="findDeliveryRelatedCostStrategy"/>
		<property name="findPaymentCostStrategy" ref="findPaymentRelatedCostStrategy"/>
		<property name="orderRequiresCalculationStrategy" ref="orderRequiresCalculationStrategy"/>
		<property name="taxFreeEntrySupport" value="${abstractorder.taxFreeEntrySupport}"/>
    </bean>
     
    <!-- SAB-525,Sales Order Simulate end -->
<!-- verified -->
  <!-- add by  SAB-535  start-->  
   <alias alias="countryZoneDeliveryModeDao" name="sabmCountryZoneDeliveryModeDao"/>
	<bean id="sabmCountryZoneDeliveryModeDao"
			class="com.sabmiller.core.delivery.dao.impl.SABMCountryZoneDeliveryModeDao"
			parent="defaultCountryZoneDeliveryModeDao"/>
    
   <alias name="sabmDeliveryModeLookupStrategy" alias="deliveryModeLookupStrategy"/>
	<bean id="sabmDeliveryModeLookupStrategy"
			class="com.sabmiller.core.strategy.impl.SABMDeliveryModeLookupStrategy" parent="defaultDeliveryModeLookupStrategy"/>
			
	<alias alias="sabmDeliveryShippingCarrierStrategy" name="defaultSABMDeliveryShippingCarrierStrategy"/>
	<bean id="defaultSABMDeliveryShippingCarrierStrategy"
			class="com.sabmiller.core.strategy.impl.DefaultSABMDeliveryShippingCarrierStrategy">
		<property name="modelService" ref="modelService"/>
	</bean>
	<!-- test the property -->
	   <alias name="sabmCommerceDeliveryAddressStrategy" alias="commerceDeliveryAddressStrategy"/>
	  <bean id="sabmCommerceDeliveryAddressStrategy"
			class="com.sabmiller.core.strategy.impl.DefaultSABMCommerceDeliveryAddressStrategy" parent="defaultCommerceDeliveryAddressStrategy">
			<property name="b2bCommerceUnitService" ref="b2bCommerceUnitService"/>
	  </bean>	
	  
	  	<alias name="sabmCartValidationStrategy" alias="cartValidationStrategy"/>
	   <bean id="sabmCartValidationStrategy"
		    class="com.sabmiller.core.strategy.impl.DefaultSABMCartValidationStrategy" parent="defaultCartValidationStrategy">
			<property name="b2bUnitService" ref="b2bUnitService"/>	
		</bean>
		
		<alias name="sabmDeliveryAddressesLookupStrategy" alias="deliveryAddressesLookupStrategy"/>
	    <bean id="sabmDeliveryAddressesLookupStrategy"
			class="com.sabmiller.core.strategy.impl.DefaultSABMDeliveryAddressesLookupStrategy" parent ="defaultDeliveryAddressesLookupStrategy">
			<property name="b2bUnitService" ref="b2bUnitService"/>	
	   </bean>	
<!-- add by  SAB-535  end-->
	<!-- verified -->
    <bean id="salesDataConverter" parent="abstractPopulatingConverter">
        <property name="targetClass" value="com.sabmiller.facades.b2bunit.data.SalesData"/>
        <property name="populators">
            <list>
                <ref bean="salesDataPopulator"/>
            </list>
        </property>
    </bean>
		<!-- verified -->
	<bean id="unloadingPointConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.b2bunit.data.UnloadingPoint"/>
		<property name="populators">
			<list>
				<ref bean="unloadingPointPopulator"/>
	</list>
		</property>
	</bean>
	<alias name="emailConfig" alias="emailConfig" />
    <bean id="emailConfig" class="com.sabmiller.core.mail.EmailConfig" >
    </bean>
	
	<!--  BOGOF -->	 
	<!-- verified -->
	 <bean id="bogofDealRequestConverter" class="com.sabmiller.core.deals.converter.populator.BogofDealsRequestConverter"></bean>
	 <!-- verified -->
	 <bean id="bogofDealReverseConverter" class="com.sabmiller.core.deals.converter.populator.BogofDealsReverseConverter"></bean>
	 
	 <!--  PRICING DISCOUNTS -->
	 <!-- verified -->
	 <bean id="discountDealRequestConverter" class="com.sabmiller.core.deals.converter.populator.DiscountDealsRequestConverter"></bean>
	 <!-- verified -->
	 <bean id="discountDealReverseConverter" class="com.sabmiller.core.deals.converter.populator.DiscountDealsReverseConverter"></bean>
	 
	 <!--  DEAL CONDITIONS -->
	 <!-- verified -->
	 <bean id="bogofMinQtyDealConditionReversePopulator" class="com.sabmiller.core.deals.converter.populator.BogofMinQtyDealConditionReversePopulator"></bean>
	 <!-- verified -->
	 <bean id="bogofProductDealConditionReversePopulator" class="com.sabmiller.core.deals.converter.populator.BogofProductDealConditionReversePopulator"></bean>
	 <!-- verified -->
	 <bean id="discountMinQtyDealConditionReversePopulator" class="com.sabmiller.core.deals.converter.populator.DiscountMinQtyDealConditionReversePopulator"></bean>
	 <!-- verified -->
	 <bean id="discountProductDealConditionReversePopulator" class="com.sabmiller.core.deals.converter.populator.DiscountProductDealConditionsReversePopulator"></bean>
	 
	 <!-- DEAL BENEFITS -->
	 <!-- verified -->
	 <bean id="bogofDealBenefitReversePopulator" class="com.sabmiller.core.deals.converter.populator.BogofDealBenefitReversePopulator"></bean>
 <!-- verified -->	
	 <bean id="discountDealBenefitReversePopulator" class="com.sabmiller.core.deals.converter.populator.DiscountDealBenefitReversePopulator"></bean>
	 <!-- verified -->
	 <bean id="resultFreeGoodReversePopulator" class="com.sabmiller.core.deals.converter.populator.ComplexDealBogofBenefitReversePopulator"></bean>
	 <!-- verified -->
	 <bean id="resultPercentAmountReversePopulator" class="com.sabmiller.core.deals.converter.populator.ComplexDealDiscountBenefitReversePopulator"></bean>
	 <!-- verified -->
	 <bean id="assignmentReversePopulator" class="com.sabmiller.core.deals.converter.populator.AssignmentReversePopulator"></bean>
	<!-- verified -->
	 <bean id="preconditionReversePopulator" class="com.sabmiller.core.deals.converter.populator.PreconditionReversePopulator"></bean>
	 <!-- verified -->
	 <bean id="dealScaleReversePopulator" class="com.sabmiller.core.deals.converter.populator.DealScaleReversePopulator"></bean>
	 
	 <!--  Once Off Deals -->
	<!-- verified -->
	 <bean id="onceOffDealsRequestConverter" class="com.sabmiller.core.deals.converter.populator.OnceOffDealsRequestConverter"></bean>
	 <!-- verified -->
	 <bean id="onceOffDealsReverseConverter" class="com.sabmiller.core.deals.converter.populator.OnceOffDealsReverseConverter"></bean>
	 
	 <!--  CUP -->
	 <!-- verified -->
	 <bean id="cupRequestConverter" class="com.sabmiller.core.cup.converter.populator.CUPRequestConverter"></bean>
	<!-- verified -->
	 <bean id="cupReverseConverter" class="com.sabmiller.core.cup.converter.populator.CUPReverseConverter"></bean>
	 
	 <!-- product exclusion -->
	 <bean id="productExclRequestConverter" class="com.sabmiller.core.productexclusion.converter.populator.ProductExclRequestConverter"></bean>
	 
	 
	 
	 <bean id="dealAssignToAttributeHandler" class="com.sabmiller.core.handlers.DealAssignToAttributeHandler" />
	 <bean id="dealExcludeFromAttributeHandler" class="com.sabmiller.core.handlers.DealExcludeFromAttributeHandler" />
	 <bean id="repDrivenDealStatusAttributeHandler" class="com.sabmiller.core.handlers.RepDrivenDealStatusAttributeHandler" />
	 <bean id="isScaleDealAttributeHandler" class="com.sabmiller.core.handlers.IsScaleDealStatusAttributeHandler" />
	 <bean id="recommendationGroupRestrictionDynamicDescription" class="com.sabmiller.core.handlers.RecommendationGroupRestrictionDynamicDescription"/>
	 
	 <!-- Deals : END -->

	
    <alias name="sabmSalesOrderCreateService" alias="sabmSalesOrderCreateService"/>
    <bean id="sabmSalesOrderCreateService" class="com.sabmiller.core.salesordercreate.service.impl.DefalutSABMSalesOrderCreateService">
	    <property name="salesOrderCreateRestHandler" ref="salesOrderCreateRestHandler"/>
	    <property name="modelService" ref="modelService"/>
	    <property name="salesOrderCreateRequestConverter" ref="salesOrderCreateRequestConverter"/>
    </bean>
    
	 <alias alias="sabmPriceRowDao" name="defaultSabmPriceRowDao"/>
	<bean id="defaultSabmPriceRowDao" class="com.sabmiller.core.product.DefaultSabmPriceRowDao">
		<property name="flexibleSearchService" ref="flexibleSearchService"/>
		<property name="configurationService" ref="configurationService"/>
		<property name="userService" ref="userService"/>
		<property name="searchRestrictionService" ref="searchRestrictionService" />
	 </bean>
<!-- need to validate the property -->
	<alias alias="b2bOrderService" name="sabmB2BOrderService"/>
	<bean id="sabmB2BOrderService" class="com.sabmiller.core.order.impl.DefaultSabmB2BOrderService" parent="defaultB2BOrderService">
	<property name="b2bCreateOrderFromCartStrategy" ref="createOrderFromCartStrategy"/>
	 <property name="submitOrderStrategies">
			<list>
				<ref bean="eventPublishingSubmitOrderStrategy"/>
			</list>
		</property>
	</bean>

	<alias name="sabmB2BCommercePlaceOrderStrategy" alias="b2bCommercePlaceOrderStrategy"/>
	<bean name="sabmB2BCommercePlaceOrderStrategy" class="de.hybris.platform.commerceservices.order.impl.DefaultCommercePlaceOrderStrategy"
          parent="defaultCommercePlaceOrderStrategy">
		<property name="orderService" ref="b2bOrderService"/>
	</bean>

	<bean id="sabmConsignmentService" class="com.sabmiller.core.ordersplitting.DefaultSabmConsignmentService" parent="defaultConsignmentService"/>

	<alias name="defaultSabmOrderGenericDao" alias="sabmOrderGenericDao"/>
	<bean name="defaultSabmOrderGenericDao" class="de.hybris.platform.servicelayer.internal.dao.DefaultGenericDao">
		<constructor-arg value="Order"/>
	</bean>

	<alias name="defaultSabmInvoiceTypeDao" alias="sabmInvoiceTypeDao"/>
	<bean name="defaultSabmInvoiceTypeDao" class="de.hybris.platform.servicelayer.internal.dao.DefaultGenericDao">
		<constructor-arg value="InvoiceType"/>
	</bean>
	
	<alias name="defaultSabmImpExMediaDao" alias="sabmImpExMediaDao"/>
	<bean name="defaultSabmImpExMediaDao" class="de.hybris.platform.servicelayer.internal.dao.DefaultGenericDao">
		<constructor-arg value="ImpExMedia"/>
	</bean>

	<bean id="sendCustomerWelcomeEmailJob" class="com.sabmiller.core.jobs.SendCustomerWelcomeEmailJob" autowire="byName" scope="tenant" >
 		<property name="tokenValiditySeconds" value="${welcomeEmail.password.tokenValiditySecond}"/>
	</bean>
	
	<bean id="salesforceSendCustomerWelcomeEmailJob" class="com.sabmiller.core.jobs.SalesforceSendCustomerWelcomeEmailJob" parent="abstractJobPerformable" />


	<bean id="orderCutOffnotificationsJob" class="com.sabmiller.core.jobs.OrderCutOffNotificationsJob" parent="abstractJobPerformable" />
	<bean id="deliveryNotificationsJob" class="com.sabmiller.core.jobs.DeliveryNotificationsJob" parent="abstractJobPerformable" />
	<bean id="dealNotificationsJob" class="com.sabmiller.core.jobs.DealNotificationsJob" parent="abstractJobPerformable" />
	
	<bean id="exportCustomerJob" class="com.sabmiller.core.jobs.ExportCustomerJob" parent="abstractJobPerformable" />
	<bean id="exportBDEOrdersJob" class="com.sabmiller.core.jobs.ExportBDEOrdersJob" parent="abstractJobPerformable" />

	<bean id="shippingCarrierComparator" class="com.sabmiller.core.comparators.ShippingCarrierComparator" />

	<bean id="orderTemplateNameComparator" class="com.sabmiller.core.comparators.OrderTemplateNameComparator" />

	<bean id="trackOrderDataComparator" class="com.sabmiller.core.comparators.TrackOrderDataComparator" />

<bean id="trackOrderTimePassesETANotificationsJob" class="com.sabmiller.core.jobs.TrackOrderTimePassesETANotificationsJob" parent="abstractJobPerformable" />
	

	<alias alias="sabmCDLValueDao" name="defaultSabmCDLValueDao" />
	<bean id="defaultSabmCDLValueDao" class="com.sabmiller.core.cdlvalue.dao.DefaultSabmCDLValueDao" />
	
	<alias alias="sabmCDLValueService" name="defaultSabmCDLValueService" />
	<bean id="defaultSabmCDLValueService" class="com.sabmiller.core.cdlvalue.service.DefaultSabmCDLValueService" />
	

	<alias alias="orderDao" name="defaultSabmOrderDao"/>
	<bean id="defaultSabmOrderDao" class="com.sabmiller.core.order.dao.DefaultSabmOrderDao" parent="defaultOrderDao"/>

	<alias alias="acceleratorConsignmentDao" name="defaultSabmConsignmentDao"/>
	<bean id="defaultSabmConsignmentDao" class="com.sabmiller.core.order.dao.DefaultSabmConsignmentDao" parent="defaultAcceleratorConsignmentDao"/>

	<alias name="defaultSabmCoreProductRangeDao" alias="sabmCoreProductRangeDao"/>
	<bean name="defaultSabmCoreProductRangeDao" class="de.hybris.platform.servicelayer.internal.dao.DefaultGenericDao">
		<constructor-arg value="SabmCoreProductRange"/>
	</bean>

	<alias name="sabmDefaultProductModelUrlResolver" alias="productModelUrlResolver"/>
	<bean id="sabmDefaultProductModelUrlResolver" class="com.sabmiller.core.url.impl.SabmDefaultProductModelUrlResolver" parent="defaultProductModelUrlResolver"/>
	
	<alias alias="commerceStockService" name="defaultSabmCommerceStockService"/>
	<bean id="defaultSabmCommerceStockService"
			class="com.sabmiller.core.stock.DefaultSabmCommerceStockService" parent="defaultCommerceStockService"/>
	
	
	<alias alias="cartFactory" name="sabmDefaultCartFactory"/>
	<bean id="sabmDefaultCartFactory" class="com.sabmiller.core.order.impl.SABMDefaultCartFactory" parent="commerceCartFactory">
		<property name="deliveryService" ref="deliveryService"/>
		<property name="b2bCommerceUnitService" ref="b2bCommerceUnitService"/>
	</bean>
		<!-- verified -->
	<alias alias="sabmDeliveryDateCutOffService" name="defaultSABMDeliveryDateCutOffService"/>
	<bean id="defaultSABMDeliveryDateCutOffService" class="com.sabmiller.core.b2b.services.impl.DefaultSABMDeliveryDateCutOffService" />


	<util:map id="caldendarDeliveryDayMap" key-type="java.lang.Integer" value-type="java.lang.Integer">
		<entry key="1" value="7"/>
		<entry key="2" value="1"/>
		<entry key="3" value="2"/>
		<entry key="4" value="3"/>
		<entry key="5" value="4"/>
		<entry key="6" value="5"/>
		<entry key="7" value="6"/>
	</util:map>


	<bean id="salesOrderSimulateRequestConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.integration.sap.ordersimulate.request.SalesOrderSimulateRequest"/>
		<property name="populators">
			<list>
				<ref bean="salesOrderSimulateRequestPopulator"/>
			</list>
		</property>
	</bean>

	<bean id="salesOrderSimulateReqHeaderConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.integration.sap.ordersimulate.request.SalesOrderSimulateRequest.SalesOrderReqHeader"/>
		<property name="populators">
			<list>

				<ref bean="salesOrderSimulateReqHeaderPopulator"/>

			</list>
		</property>
	</bean>

	<bean id="salesOrderSimulateReqPartnerConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.integration.sap.ordersimulate.request.SalesOrderSimulateRequest.SalesOrderReqPartner"/>
		<property name="populators">
			<list>

				<ref bean="salesOrderSimulateReqPartnerPopulator"/>

			</list>
		</property>
	</bean>

		<bean id="salesOrderSimulateReqItemConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.integration.sap.ordersimulate.request.SalesOrderSimulateRequest.SalesOrderReqItem"/>
		<property name="populators">
			<list>

				<ref bean="salesOrderSimulateReqItemPopulator"/>

			</list>
		</property>
	</bean>
	<bean id="salesOrderSimulateRequestPopulator" class="com.sabmiller.core.ordersimulate.converters.populator.SalesOrderSimulateRequestPopulator" >
	<property name="salesOrderSimulateReqHeaderConverter" ref="salesOrderSimulateReqHeaderConverter"/>
	<property name="salesOrderSimulateReqPartnerConverter" ref="salesOrderSimulateReqPartnerConverter"/>
	<property name="salesOrderSimulateReqItemConverter" ref="salesOrderSimulateReqItemConverter"/>

	</bean>
	<bean id="salesOrderSimulateReqHeaderPopulator" class="com.sabmiller.core.ordersimulate.converters.populator.SalesOrderSimulateReqHeaderPopulator">
	<property name="salesOrderPopulateHelper" ref="salesOrderPopulateHelper"/>
	</bean>
	<bean id="salesOrderSimulateReqPartnerPopulator" class="com.sabmiller.core.ordersimulate.converters.populator.SalesOrderSimulateReqPartnerPopulator" />
	<bean id="salesOrderSimulateReqItemPopulator" class="com.sabmiller.core.ordersimulate.converters.populator.SalesOrderSimulateReqItemPopulator" />
		<!-- Sales order create -->

	<bean id="ysdmRequestConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.integration.sap.ordercreate.request.SalesOrderCreateRequest"/>
		<property name="populators">
			<list>
				<ref bean="ysdmRequestPopulator"/>
			</list>
		</property>
	</bean>

	<bean id="salesOrderYSDMConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.ysdm.data.YSDMRequest"/>
		<property name="populators">
			<list>
				<ref bean="salesOrderYSDMPopulator"/>
			</list>
		</property>
	</bean>
	
	<bean id="salesOrderYSDMPopulator" class="com.sabmiller.core.ordercreate.converters.populator.SalesOrderYSDMPopulator" />
	
	<bean id="invoiceYSDMConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.ysdm.data.YSDMRequest"/>
		<property name="populators">
			<list>
				<ref bean="invoiceYSDMPopulator"/>
			</list>
		</property>
	</bean>
	
	<bean id="invoiceYSDMPopulator" class="com.sabmiller.core.ordercreate.converters.populator.InvoiceYSDMPopulator" />

	<bean id="salesOrderCreateRequestConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.integration.sap.ordercreate.request.SalesOrderCreateRequest"/>
		<property name="populators">
			<list>
				<ref bean="salesOrderCreateRequestPopulator"/>
	</list>
		</property>
	</bean>
	<bean id="salesOrderCreateReqHeaderConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.integration.sap.ordercreate.request.SalesOrderCreateRequest.SalesOrderReqHeader"/>
		<property name="populators">
			<list>

				<ref bean="salesOrderCreateReqHeaderPopulator"/>

			</list>
		</property>
	</bean>

	<bean id="salesOrderCreateReqPartnerConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.integration.sap.ordercreate.request.SalesOrderCreateRequest.SalesOrderReqPartner"/>
		<property name="populators">
			<list>
				<ref bean="salesOrderCreateReqPartnerPopulator"/>
			</list>
		</property>
	</bean>

		<bean id="salesOrderCreateReqItemConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.integration.sap.ordercreate.request.SalesOrderCreateRequest.SalesOrderReqItem"/>
		<property name="populators">
			<list>

				<ref bean="salesOrderCreateReqItemPopulator"/>

			</list>
		</property>
	</bean>

	<bean id="ysdmRequestPopulator" class="com.sabmiller.core.ordercreate.converters.populator.YSDMRequestPopulator"/>
	<bean id="salesOrderCreateRequestPopulator" class="com.sabmiller.core.ordercreate.converters.populator.SalesOrderCreateRequestPopulator" >
		<property name="salesOrderCreateReqHeaderConverter" ref="salesOrderCreateReqHeaderConverter"/>
		<property name="salesOrderCreateReqPartnerConverter" ref="salesOrderCreateReqPartnerConverter"/>
		<property name="salesOrderCreateReqItemConverter" ref="salesOrderCreateReqItemConverter"/>
	</bean>
	<bean id="salesOrderCreateReqHeaderPopulator" class="com.sabmiller.core.ordercreate.converters.populator.SalesOrderCreateReqHeaderPopulator" >
	<property name="salesOrderPopulateHelper" ref="salesOrderPopulateHelper"/>
	</bean>
	<bean id="salesOrderCreateReqPartnerPopulator" class="com.sabmiller.core.ordercreate.converters.populator.SalesOrderCreateReqPartnerPopulator" />
	<bean id="salesOrderCreateReqItemPopulator" class="com.sabmiller.core.ordercreate.converters.populator.SalesOrderCreateReqItemPopulator" />
	<bean id="salesOrderPopulateHelper" class="com.sabmiller.core.ordersimulate.converters.populator.SalesOrderPopulateHelper"/>

	<!-- verified -->
	<alias name="defaultSabmB2BCommerceCartService" alias="commerceCartService"/>
	<bean id="defaultSabmB2BCommerceCartService"
			class="com.sabmiller.core.cart.service.impl.DefaultSabmB2BCommerceCartService" parent="defaultB2BCommerceCartService"/>
	<!-- verified -->
	<alias alias="commerceCartDao" name="defaultSabmCommerceCartDao"/>
	<bean id="defaultSabmCommerceCartDao"
			class="com.sabmiller.core.cart.dao.DefaultSabmCommerceCartDao" parent="defaultCommerceCartDao"/>

	<alias alias="recommendationDao" name="defaultRecommendationDao"/>
	<bean id="defaultRecommendationDao"
		  class="com.sabmiller.core.recommendation.dao.DefaultSabmRecommendationDao">
		<property name="flexibleSearchService" ref="flexibleSearchService" />
		<property name="modelService" ref="modelService" />
	</bean>

	
	<alias alias="notificationDao" name="defaultNotificationDao"/>
	<bean id="defaultNotificationDao"
		  class="com.sabmiller.core.notification.dao.DefaultSabmNotificationDao">
		<property name="flexibleSearchService" ref="flexibleSearchService" />
		<property name="modelService" ref="modelService" />
	</bean>
	<!-- verified -->
	<alias alias="sabmDeliveryPlantDao" name="sabmDeliveryPlantDao"/>
   <bean id="sabmDeliveryPlantDao" class="com.sabmiller.core.b2b.dao.DefaultSabmDeliveryPlantDao"/>

	<alias alias="invoiceDao" name="defaultInvoivceDao"/>
	<bean id="defaultInvoivceDao"
		  class="com.sabmiller.core.invoices.dao.DefaultSabmInvoiceDao">
		<property name="flexibleSearchService" ref="flexibleSearchService" />
		<property name="modelService" ref="modelService" />
	</bean>

     <!-- SAB-1579 -->
     <!-- verified -->
   <alias name="defaultSabmExternalTaxesService" alias="externalTaxesService"/>
	<bean id="defaultSabmExternalTaxesService" class="com.sabmiller.core.cart.service.impl.DefaultSABMExternalTaxesService" parent="defaultExternalTaxesService"/>
	


	<!-- Register and mapping the restriction evaluator class -->
 	<bean id="sabmCMSUserGroupRestrictionEvaluator" class="com.sabmiller.core.services.evaluator.impl.SABMCMSUserGroupRestrictionEvaluator"
		scope="tenant">
		<property name="userService" ref="userService" />
		<property name="b2bUnitService" ref="b2bUnitService" />
	</bean>
	<bean id="sabmCMSUserGroupRestrictionEvaluatorMapping" class="de.hybris.platform.cms2.servicelayer.services.evaluator.CMSRestrictionEvaluatorMapping"
		scope="tenant">
		<property name="restrictionTypeCode" value="sabmCMSUserGroupRestriction" />
		<property name="restrictionEvaluator" ref="sabmCMSUserGroupRestrictionEvaluator" />
	</bean>

	<bean id="smartRecommendationGroupRestrictionEvaluator" class="com.sabmiller.core.services.evaluator.impl.SmartRecommendationGroupRestrictionEvaluator">
		<property name="b2BCommerceUnitService" ref="b2bCommerceUnitService"/>
	</bean>
	<bean id="smartRecommendationGroupRestrictionEvaluatorMapping" class="de.hybris.platform.cms2.servicelayer.services.evaluator.CMSRestrictionEvaluatorMapping">
		<property name="restrictionTypeCode" value="CMSSmartRecommendationGroupRestriction" />
		<property name="restrictionEvaluator" ref="smartRecommendationGroupRestrictionEvaluator" />
	</bean>
	
	<!-- Ref68 - Allow B2B Admin to publish personalised messages specific to State and Customer level - Start -->
	<bean id="sabmMessageUserGroupRestrictionEvaluator" class="com.sabmiller.core.services.evaluator.impl.SABMMessageUserGroupRestrictionEvaluator" parent="sabmCMSUserGroupRestrictionEvaluator"/>
	<!-- Ref68 - Allow B2B Admin to publish personalised messages specific to State and Customer level - End -->
	
	<!--<alias alias="dynamicAttributesOrderStatusDisplay" name ="sabmDynamicAttributesOrderStatusDisplayByMap"/>
	<bean id="sabmDynamicAttributesOrderStatusDisplayByMap" parent="b2bacceleratorDynamicAttributesOrderStatusDisplayByMap">
		<property name="statusDisplayMap">
			<map merge="true">
				<entry key="RETURNED" value="returned"/>
				<entry key="DISPATCHED" value="dispatched"/>
				<entry key="INTRANSIT" value="inTransit"/>
				<entry key="NOTDELIVERED" value="notDelivered"/>
				<entry key="PARTIALDELIVERED" value="partiallyDelivered"/>
			</map>
		</property>
	</bean>-->


	<alias alias="dynamicAttributesConsignmentStatusDisplay"
			name="sabmDynamicAttributesConsignmentStatusDisplayByMap"/>
	<bean id="sabmDynamicAttributesConsignmentStatusDisplayByMap"
			parent="acceleratorDynamicAttributesConsignmentStatusDisplayByMap">
		<property name="statusDisplayMap">
			<map key-type="de.hybris.platform.basecommerce.enums.ConsignmentStatus">
				<entry key="INTRANSIT" value="inTransit"/>
				<entry key="NOTDELIVERED" value="notDelivered"/>
				<entry key="DELIVERED" value="delivered"/>
			</map>
		</property>
		<property name="defaultStatus" value="processing"/>
	</bean>

	
	<alias alias="commerceDeliveryModeStrategy" name="sabmCommerceDeliveryModeStrategy"/>
	<bean id="sabmCommerceDeliveryModeStrategy" parent="defaultCommerceDeliveryModeStrategy" class="com.sabmiller.core.strategy.impl.DefaultSABMCommerceDeliveryModeStrategy" />

	<alias alias="commerceDeliveryModeValidationStrategy" name="sabmCommerceDeliveryModeValidationStrategy"/>
	<bean id="sabmCommerceDeliveryModeValidationStrategy" parent="defaultCommerceDeliveryModeValidationStrategy" class="com.sabmiller.core.strategy.impl.DefaultSABMCommerceDeliveryModeValidationStrategy" />


	<!-- Old user access history cleaner -->
	<bean id="oldSABMUserAccessHistoryRemovalJob" class="com.sabmiller.core.jobs.OldSABMUserAccessHistoryRemovalJob" parent="abstractJobPerformable">
  		<!--<property name="userAccessHistoryService" ref="userAccessHistoryService" />
 		<property name="timeService" ref="timeService"/> -->
	</bean>
	
	<!-- Old price row cleaner -->
	<bean id="oldSABMPriceRowRemovalJob" class="com.sabmiller.core.jobs.OldSABMPriceRowRemovalJob" parent="abstractJobPerformable"/>

    <!-- Old Deals cleaner -->
    <bean id="OldSABMDealsRemovalJob" class="com.sabmiller.core.jobs.OldSABMDealsRemovalJob" parent="abstractJobPerformable">
        <property name="sabmCronJobStatus" ref="sabmCronJobStatus" />
        <property name="configurationService" ref="configurationService" />
        <property name="dealsItemRemovalProviders" ref="dealsItemRemovalProviders" />
    </bean>

    <bean id="abstractDealsItemRemovalProvider" abstract="true" class="com.sabmiller.core.jobs.removal.deals.AbstractDealsItemRemovalProvider">
        <property name="dealsService" ref="dealsService" />
		<property name="cleanupDao" ref="cleanupDao" />
    </bean>

    <bean id="abstractDealBenefitItemRemovalProvider" class="com.sabmiller.core.jobs.removal.deals.benefits.AbstractDealBenefitItemRemovalProvider" parent="abstractDealsItemRemovalProvider" />

	<bean id="abstractDealConditionItemRemovalProvider" class="com.sabmiller.core.jobs.removal.deals.conditions.AbstractDealConditionItemRemovalProvider" parent="abstractDealsItemRemovalProvider" />

	<bean id="cartDealConditionItemRemovalProvider" class="com.sabmiller.core.jobs.removal.deals.cartdeals.CartDealConditionItemRemovalProvider" parent="abstractDealsItemRemovalProvider" />
	<bean id="cartDealConditionWithExpiredDealsProvider" class="com.sabmiller.core.jobs.removal.deals.cartdeals.CartDealConditionWithExpiredDealsProvider" parent="abstractDealsItemRemovalProvider" />
	<bean id="cartDealConditionWithEmptyDealProvider" class="com.sabmiller.core.jobs.removal.deals.cartdeals.CartDealConditionWithEmptyDealItemProvider" parent="abstractDealsItemRemovalProvider" />

	<bean id="dealAssigneeItemRemovalProvider" class="com.sabmiller.core.jobs.removal.deals.assignee.DealAssigneeItemRemovalProvider" parent="abstractDealsItemRemovalProvider" />
	<bean id="dealAssigneeWithExpiredDealProvider" class="com.sabmiller.core.jobs.removal.deals.assignee.DealAssigneeWithExpiredDealsProvider" parent="abstractDealsItemRemovalProvider" />

    <bean id="dealConditionGroupWithOldCreationTimeProvider" class="com.sabmiller.core.jobs.removal.deals.conditiongroup.DealConditionGroupWithOldCreationTimeItemProvider" parent="abstractDealsItemRemovalProvider" />
	<bean id="dealConditionGroupWithExpiredDealsProvider" class="com.sabmiller.core.jobs.removal.deals.conditiongroup.DealConditionGroupWithExpiredDealsItemProvider" parent="abstractDealsItemRemovalProvider" />

	<bean id="dealItemRemovalProvider" class="com.sabmiller.core.jobs.removal.deals.DealItemRemovalProvider" parent="abstractDealsItemRemovalProvider" />

	<bean id="dealScaleItemRemovalProvider" class="com.sabmiller.core.jobs.removal.deals.scale.DealScaleItemRemovalProvider" parent="abstractDealsItemRemovalProvider" />

    <util:list id="dealsItemRemovalProviders" value-type="com.sabmiller.core.jobs.removal.deals.AbstractDealsItemRemovalProvider">
        <ref bean="dealItemRemovalProvider" />
        <ref bean="dealConditionGroupWithOldCreationTimeProvider" />
        <ref bean="dealConditionGroupWithExpiredDealsProvider" />
        <ref bean="abstractDealBenefitItemRemovalProvider" />
        <ref bean="abstractDealConditionItemRemovalProvider"/>
        <ref bean="cartDealConditionItemRemovalProvider" />
		<ref bean="cartDealConditionWithExpiredDealsProvider" />
		<ref bean="cartDealConditionWithEmptyDealProvider" />
        <ref bean="dealAssigneeItemRemovalProvider" />
		<ref bean="dealAssigneeWithExpiredDealProvider" />
        <ref bean="dealScaleItemRemovalProvider" />
    </util:list>

	<alias name="cleanupDaoImpl" alias="cleanupDao" />
	<bean id="cleanupDaoImpl" class="com.sabmiller.core.util.dao.impl.CleanupDaoImpl" >
		<property name="flexibleSearchService" ref="flexibleSearchService" />
		<property name="modelService" ref="modelService" />
	</bean>

	<!-- Old price row cleaner -->
	<bean id="oldLastUpdateTimeEntityRemovalJob" class="com.sabmiller.core.jobs.OldLastUpdateTimeEntityRemovalJob" parent="abstractJobPerformable"/>
<!-- verified -->
	<!-- User Access History Service -->
	<alias alias="userAccessHistoryService" name="defaultSABMUserAccessHistoryService" />
	<bean id="defaultSABMUserAccessHistoryService"
		class="com.sabmiller.core.customer.service.impl.DefaultSABMUserAccessHistoryService"
		parent="abstractBusinessService">
		<property name="userAccessHistoryDao" ref="userAccessHistoryDao" />
	</bean>
	<!-- verified -->
	<!-- User Flag Service -->
	<alias name="userFlagServiceImpl" alias="userFlagService" />
	<bean id="userFlagServiceImpl" class="com.sabmiller.core.customer.service.impl.SABMUserFlagServiceImpl" />
<!-- verified -->
	<!-- User Access History Dao -->
	<alias alias="userAccessHistoryDao" name="defaultSABMUserAccessHistoryDao" />
	<bean id="defaultSABMUserAccessHistoryDao" class="com.sabmiller.core.customer.dao.impl.DefaultSABMUserAccessHistoryDao" parent="abstractItemDao" />
	
	<alias alias="commerceProductReferenceService" name="sabmDefaultCommerceProductReferenceService" />
	<bean id="sabmDefaultCommerceProductReferenceService" class="com.sabmiller.core.product.SabmDefaultCommerceProductReferenceService" parent="defaultCommerceProductReferenceService" />

	<!-- Old RepDrivenDealConditionStatus cleaner -->
	<bean id="oldRepDrivenDealConditionStatusRemovalJob" class="com.sabmiller.core.jobs.OldRepDrivenDealConditionStatusRemovalJob" parent="abstractJobPerformable">
	</bean>

<!-- verified -->
	<!-- RepDrivenDealConditionStatus Service -->
	<alias alias="repDrivenDealConditionStatusService" name="defaultRepDrivenDealConditionStatusService" />
	<bean id="defaultRepDrivenDealConditionStatusService"
		class="com.sabmiller.core.deals.services.DefaultRepDrivenDealConditionStatusService"
		parent="abstractBusinessService">
		<property name="repDrivenDealConditionStatusDao" ref="repDrivenDealConditionStatusDao" />
	</bean>
<!-- verified -->
	<!-- User Access History Dao -->
	<alias alias="repDrivenDealConditionStatusDao" name="defaultRepDrivenDealConditionStatusDao" />
	<bean id="defaultRepDrivenDealConditionStatusDao" class="com.sabmiller.core.deals.dao.DefaultRepDrivenDealConditionStatusDao" parent="abstractItemDao" />

	<alias name="defaultSABMCommerceUpdateCartEntryStrategy" alias="commerceUpdateCartEntryStrategy"/>
	<bean id="defaultSABMCommerceUpdateCartEntryStrategy"
			class="com.sabmiller.core.strategy.impl.DefaultSABMCommerceUpdateCartEntryStrategy"
			parent="defaultCommerceUpdateCartEntryStrategy">
		<property name="commerceUpdateCartEntryHooks" ref="commerceUpdateCartEntryMethodHooks"/>
		<property name="configurationService" ref="configurationService"/>
	</bean>
	
	<bean id="generateConfirmEnabledDealEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="ConfirmEnabledDealEmailTemplate"/>
	</bean>
	
	<bean id="confirmEnabledDealProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/confirmEnabledDealProcess.xml"/>
	</bean>
	
	<bean id="confirmEnableDealEmailEventListener" class="com.sabmiller.core.event.ConfirmEnableDealEmailEventListener" parent="abstractSiteEventListener">
		<property name="modelService" ref="modelService"/>
		<property name="businessProcessService" ref="businessProcessService"/>
	</bean>


	<!-- Customer search Service -->
	<alias name="defaultSABMCustomerSearchService" alias="sabmCustomerSearchService" />
	<bean id="defaultSABMCustomerSearchService" class="com.sabmiller.core.search.solrfacetsearch.impl.DefaultSABMCustomerSearchService">
		<property name="searchQueryPageableConverter" ref="sabmSearchQueryPageableConverter" />
		<property name="searchRequestConverter" ref="commerceSolrSearchRequestConverter" />
		<property name="sabmCustomerSearchResponseConverter" ref="sabmCustomerSolrSearchResponseConverter" />
	</bean>
		<!-- Customer search Converter -->
		<alias name="defaultSABMCustomerSolrSearchResponseConverter" alias="sabmCustomerSolrSearchResponseConverter" />
	<bean id="defaultSABMCustomerSolrSearchResponseConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.search.data.CustomerSearchPageData" />
		<property name="populators">
			<list>
				<ref bean="commerceSearchResponseQueryPopulator" />
				<ref bean="commerceSearchResponsePaginationPopulator" />
				<ref bean="commerceSearchResponseResultsPopulator" />
				<ref bean="commerceSearchResponseFacetsPopulator" />
				<ref bean="commerceSearchResponseFacetFilterPopulator" />
				<ref bean="commerceSearchResponseFacetSortPopulator" />
				<ref bean="commerceSearchResponseBreadcrumbsPopulator" />
				<ref bean="commerceSearchResponseSortsPopulator" />
			</list>
		</property>
	</bean>
	
	<alias name="defaultCommerceSearchQueryPageableConverter" alias="commerceSearchQueryPageableConverter" />
	<bean id="defaultCommerceSearchQueryPageableConverter" parent="abstractPopulatingConverter">
	  <property name="targetClass" value="de.hybris.platform.commerceservices.search.solrfacetsearch.data.SolrSearchRequest" />
	  <property name="populators">
	   <list>
	     <ref bean="sabmSearchProductSolrQueryPopulator" />
	     <ref bean="commerceSearchPagePopulator" />
	     <ref bean="commerceSearchSortPopulator" />
	     <ref bean="commerceSearchTextPopulator" />
	     <ref bean="commerceSearchFiltersPopulator" />
	   </list>
	  </property>
	</bean>
	
  <!-- Customer search Provider -->
	<bean id="customerAddressProvider" class="com.sabmiller.core.search.solrfacetsearch.provider.impl.CustomerAddressProvider"  parent="abstractPropertyFieldValueProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="commonI18NService" ref="commonI18NService"/>
        <property name="modelService" ref="modelService" />
	     <property name="typeService" ref="typeService" />      
    </bean>
	<bean id="customerNameProvider" class="com.sabmiller.core.search.solrfacetsearch.provider.impl.CustomerNameProvider"  parent="abstractPropertyFieldValueProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="commonI18NService" ref="commonI18NService"/>
    </bean>
   	<bean id="dealsExistsProvider" class="com.sabmiller.core.search.solrfacetsearch.provider.impl.DealsExistsProvider"  parent="abstractPropertyFieldValueProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="commonI18NService" ref="commonI18NService"/>
    </bean>
    <bean id="customerIDProvider" class="com.sabmiller.core.search.solrfacetsearch.provider.impl.CustomerIDProvider"  parent="abstractPropertyFieldValueProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="commonI18NService" ref="commonI18NService"/>
    </bean>
    
    <bean id="customerEmailProvider" class="com.sabmiller.core.search.solrfacetsearch.provider.impl.CustomerEmailProvider"  parent="abstractPropertyFieldValueProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="commonI18NService" ref="commonI18NService"/>
    </bean>
	
	<bean id="customerAddressRegionProvider" class="com.sabmiller.core.search.solrfacetsearch.provider.impl.CustomerAddressRegionProvider"  parent="abstractPropertyFieldValueProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="commonI18NService" ref="commonI18NService"/>
    </bean>
  	<bean id="customerAccountPayerNumberProvider" class="com.sabmiller.core.search.solrfacetsearch.provider.impl.CustomerAccountPayerNumberProvider"  parent="abstractPropertyFieldValueProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="commonI18NService" ref="commonI18NService"/>
    </bean>  

    <bean id="b2bUnitAccountOrPayerNumberProvider" class="com.sabmiller.core.search.solrfacetsearch.provider.impl.B2BUnitAccountOrPayerNumberProvider"  parent="customerAccountPayerNumberProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="commonI18NService" ref="commonI18NService"/>
    </bean>
	<bean id="orderingStatusProvider" class="com.sabmiller.core.search.solrfacetsearch.provider.impl.OrderingStatusProvider"  parent="abstractPropertyFieldValueProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="commonI18NService" ref="commonI18NService"/>
    </bean>
    
	<bean id="sabmProductBestsellerResolver" class="com.sabmiller.core.search.solrfacetsearch.provider.impl.SABMProductBestsellerResolver" parent="abstractValueResolver">
		<property name="orderService" ref="b2bOrderService"/>
	</bean>

	<bean id="sabmProductPopularityRankingResolver" class="com.sabmiller.core.search.solrfacetsearch.provider.impl.SABMProductPopularityRankingResolver" parent="abstractValueResolver">
		<property name="productService" ref="productService"/>
	</bean>
    
    <alias alias="sabmConfigurationService" name="defaultSabmConfigurationService"/>
    <bean id="defaultSabmConfigurationService" class="com.sabm.core.config.DefaultSabmConfigurationService"/>
    
    <alias name="defaultSabmConfigurationDao" alias="sabmConfigurationDao"/>
	<bean name="defaultSabmConfigurationDao" class="de.hybris.platform.servicelayer.internal.dao.DefaultGenericDao">
		<constructor-arg value="SabmConfiguration"/>
	</bean>
	<alias name="defaultSabmDeliveryMethodDao" alias="sabmDeliveryMethodDao"/>
	<bean name="defaultSabmDeliveryMethodDao" class="de.hybris.platform.servicelayer.internal.dao.DefaultGenericDao">
		<constructor-arg value="sabmDeliveryModeMapping"/>
	</bean>
	
	<!-- verified -->
    <alias alias="sabmB2BCustomerDao" name="defaultB2BCustomerDao"/>
    <bean id="defaultB2BCustomerDao" class="com.sabmiller.core.b2b.dao.DefaultSabmB2BCustomerDaoImpl" parent="abstractItemDao" /> 
<!-- verified -->
      <alias alias="sabmB2BCustomerService" name="defaultSabmB2BCustomerService"/>
    <bean id="defaultSabmB2BCustomerService" class="com.sabmiller.core.b2b.services.impl.DefaultSabmB2BCustomerServiceImpl"/>

	
	<!--<bean id="de.hybris.platform.jalo.user.Employee" class="com.sabmiller.core.jalo.SabmEmployee" scope="prototype" >
	</bean>-->
	
		<!-- verified -->
	<alias alias="sabmChangePasswordHistoryService" name="defaultChangePasswordHistoryService"/>
	<bean id="defaultChangePasswordHistoryService" class="com.sabmiller.core.b2b.services.impl.DefaultSabmChangePasswordHistoryService">
	 </bean>
	
	<alias alias="sabmChangePasswordHistoryDao" name="defaultChangePasswordHistoryDao"/>
	<bean id="defaultChangePasswordHistoryDao" class="com.sabmiller.core.b2b.dao.DefaultSabmChangePasswordHistoryDao">
	 </bean>
	 
	 <!-- override the hubris OOTB ref b2bUnitService, because needn't get the b2b unit from session -->
	<bean id="B2BCustomerModelValidateInterceptor" class="de.hybris.platform.b2bcommercefacades.interceptor.B2BCustomerModelValidateInterceptor">
		<property name="b2bUnitService" ref="defaultB2BUnitService"/>
		<property name="l10NService" ref="l10nService"/>
	</bean>
	 


	<bean id="StagingRecommendationPrepareInterceptor" class="com.sabmiller.core.interceptor.StagingSABMRecommendationPrepareInterceptor"
		autowire="byName" />

	<bean id="StagingRecommendationPrepareInterceptorMapping" class="de.hybris.platform.servicelayer.interceptor.impl.InterceptorMapping">
		<property name="interceptor" ref="StagingRecommendationPrepareInterceptor" />
		<property name="typeCode" value="StagingSABMRecommendation" />
	</bean>


	 <bean id="sabmMessageRemoveInterceptor" class="com.sabmiller.core.interceptor.SabmMessageRemoveInterceptor" autowire="byName"/>

	<bean id="RemoveInterceptorMapping"  class="de.hybris.platform.servicelayer.interceptor.impl.InterceptorMapping">
		<property name="interceptor" ref="sabmMessageRemoveInterceptor"/>
		<property name="typeCode" value="SabmMessage"/>
	</bean>
	
	<!-- Ref68 - Allow B2B Admin to publish personalised messages specific to State and Customer level - Start -->
	<bean id="sabmMessageValidateInterceptor" class="com.sabmiller.core.interceptor.SabmMessageValidateInterceptor" autowire="byName"/>
	
	<bean id="sabmMessageValidateInterceptorMapping"  class="de.hybris.platform.servicelayer.interceptor.impl.InterceptorMapping">
		<property name="interceptor" ref="sabmMessageValidateInterceptor"/>
		<property name="typeCode" value="SabmMessage"/>
	</bean>
	<!-- Ref68 - Allow B2B Admin to publish personalised messages specific to State and Customer level - End -->
	<!-- verified -->
	 <alias name="sabmEmailAddressDao" alias="emailAddressDao"/>
	<bean id="sabmEmailAddressDao"
	      class="com.sabmiller.core.email.address.dao.DefaultSabmEmailAddressDao"  parent="defaultEmailAddressDao"/>

	<!-- business enquiry populators -->
	<!-- verified -->
	<bean id="sabmDeliveryEnquiryPopulator" class="com.sabmiller.core.enquiry.converters.populator.SabmDeliveryEnquiryPopulator"/>
	<bean id="sabmProductReturnPopulator" class="com.sabmiller.core.enquiry.converters.populator.SabmProductReturnPopulator"/>
	<bean id="sabmKegIssuePopulator" class="com.sabmiller.core.enquiry.converters.populator.SabmKegIssuePopulator"/>	
	<!-- verified -->
	<bean id="sabmDeliveryIssuePopulator" class="com.sabmiller.core.enquiry.converters.populator.SabmDeliveryIssuePopulator"/>
	<bean id="sabmPriceEnquiryPopulator" class="com.sabmiller.core.enquiry.converters.populator.SabmPriceEnquiryPopulator"/>
	<bean id="sabmProductEnquiryPopulator" class="com.sabmiller.core.enquiry.converters.populator.SabmProductEnquiryPopulator"/>	
	
	<bean id="sabmKegPickupPopulator" class="com.sabmiller.core.enquiry.converters.populator.SabmKegPickupPopulator"/>
	<bean id="sabmMyDetailsAndDeliverOptionsPopulator" class="com.sabmiller.core.enquiry.converters.populator.SabmMyDetailsAndDeliverOptionsPopulator"/>
	<!-- verified -->
	<bean id="sabmEmptyPalletPickupPopulator" class="com.sabmiller.core.enquiry.converters.populator.SabmEmptyPalletPickupPopulator"/>	
	
	<bean id="sabmWebsiteErrorsPopulator" class="com.sabmiller.core.enquiry.converters.populator.SabmWebsiteErrorsPopulator"/>
	<bean id="sabmGeneralInquiryPopulator" class="com.sabmiller.core.enquiry.converters.populator.SabmGeneralInquiryPopulator"/>
	<bean id="sabmWebsiteInquiryFeedbackPopulator" class="com.sabmiller.core.enquiry.converters.populator.SabmWebsiteInquiryFeedbackPopulator"/>
	<!-- verified -->
	<bean id="sabmAutopayInquiryPopulator" class="com.sabmiller.core.enquiry.converters.populator.SabmAutopayInquiryPopulator"/>
	
	<bean id="sabmOrderEnquiryPopulator" class="com.sabmiller.core.enquiry.converters.populator.SabmOrderEnquiryPopulator"/>
	<bean id="sabmUpdateExistingEnquiryPopulator" class="com.sabmiller.core.enquiry.converters.populator.SabmUpdateExistingEnquiryPopulator"/>
<!-- verified -->
	<bean id="sabmDeliveryEnquiryDataConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.businessenquiry.data.SabmDeliveryEnquiryData" />
		<property name="populators">
			<list>
				<ref bean="sabmDeliveryEnquiryPopulator" />
			</list>
		</property>
	</bean>
	
	<bean id="sabmProductReturnConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.businessenquiry.data.SabmProductReturnData" />
		<property name="populators">
			<list>
				<ref bean="sabmProductReturnPopulator" />
			</list>
		</property>
	</bean>
	
	<bean id="sabmKegIssueConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.businessenquiry.data.SabmKegIssueData" />
		<property name="populators">
			<list>
				<ref bean="sabmKegIssuePopulator" />
			</list>
		</property>
	</bean>
	
	<bean id="sabmDeliveryIssueConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.businessenquiry.data.SabmDeliveryIssueData" />
		<property name="populators">
			<list>
				<ref bean="sabmDeliveryIssuePopulator" />
			</list>
		</property>
	</bean>
	
	<bean id="sabmPriceEnquiryConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.businessenquiry.data.SabmPriceEnquiryData" />
		<property name="populators">
			<list>
				<ref bean="sabmPriceEnquiryPopulator" />
			</list>
		</property>
	</bean>
	
	<bean id="sabmProductEnquiryConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.businessenquiry.data.SabmProductEnquiryData" />
		<property name="populators">
			<list>
				<ref bean="sabmProductEnquiryPopulator" />
			</list>
		</property>
	</bean>
	
	<bean id="sabmKegPickupConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.businessenquiry.data.SabmKegPickupData" />
		<property name="populators">
			<list>
				<ref bean="sabmKegPickupPopulator" />
			</list>
		</property>
	</bean>
	
	<bean id="sabmMyDetailsAndDeliverOptionsConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.businessenquiry.data.SabmMyDetailsAndDeliverOptionsData" />
		<property name="populators">
			<list>
				<ref bean="sabmMyDetailsAndDeliverOptionsPopulator" />
			</list>
		</property>
	</bean>
	<bean id="sabmRecommendationConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.recommendation.data.RecommendationData" />
		<property name="populators">
			<list>
				<ref bean="recommendationPopulator" />
			</list>
		</property>
	</bean>

	<bean id="sabmNotificationConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.notifications.data.NotificationData" />
		<property name="populators">
			<list>
				<ref bean="notificationPopulator" />
			</list>
		</property>
	</bean>

	
	<!-- verified -->
	<bean id="sabmEmptyPalletPickupConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.businessenquiry.data.SabmEmptyPalletPickupData" />
		<property name="populators">
			<list>
				<ref bean="sabmEmptyPalletPickupPopulator" />
			</list>
		</property>
	</bean>
	
	<bean id="sabmWebsiteErrorsConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.businessenquiry.data.SabmWebsiteErrorsData" />
		<property name="populators">
			<list>
				<ref bean="sabmWebsiteErrorsPopulator" />
			</list>
		</property>
	</bean>
	
	<bean id="sabmGeneralInquiryConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.businessenquiry.data.SabmGeneralInquiryData" />
		<property name="populators">
			<list>
				<ref bean="sabmGeneralInquiryPopulator" />
			</list>
		</property>
	</bean>
	
	<bean id="sabmWebsiteInquiryFeedbackConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.businessenquiry.data.SabmWebsiteInquiryFeedbackData" />
		<property name="populators">
			<list>
				<ref bean="sabmWebsiteInquiryFeedbackPopulator" />
			</list>
		</property>
	</bean>
<!-- verified -->
	<bean id="sabmAutopayInquiryConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.businessenquiry.data.SabmAutopayInquiryData"/>
		<property name="populators">
			<list>
				<ref bean="sabmAutopayInquiryPopulator"/>
			</list>
		</property>
	</bean>
	
	<bean id="sabmOrderEnquiryConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.businessenquiry.data.SabmOrderEnquiryData"/>
		<property name="populators">
			<list>
				<ref bean="sabmOrderEnquiryPopulator"/>
			</list>
		</property>
	</bean>
	
	<bean id="sabmUpdateExistingEnquiryConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.businessenquiry.data.SabmUpdateExistingEnquiryData"/>
		<property name="populators">
			<list>
				<ref bean="sabmUpdateExistingEnquiryPopulator"/>
			</list>
		</property>
	</bean>
	
	<!--
	WAVE 3 GENERIC COMPONENTNS CONVERTERS START
	-->
	<!--
	<bean id="sabmFAQConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.recommendation.data.FAQData" />
		<property name="populators">
			<list>
				<ref bean="sabmFAQPopulator" />
			</list>
		</property>
	</bean>

	<bean id="sabmFAQCategoryItemConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.recommendation.data.FAQCategoryItemData" />
		<property name="populators">
			<list>
				<ref bean="sabmFAQCategoryItemPopulator" />
			</list>
		</property>
	</bean>

	<bean id="sabmGenericTextContentItemConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.sabmiller.facades.recommendation.data.GenericTextContentItemData" />
		<property name="populators">
			<list>
				<ref bean="sabmGenericTextContentItemPopulator" />
			</list>
		</property>
	</bean>
    -->
	<!--
	WAVE 3 GENERIC COMPONENTNS POPULATORS END
	-->
	
	<!-- end of business enquiry populators -->
	<!-- verified -->
	<!-- business enquiry -->
	<alias name="businessEnquiryServiceImpl" alias="businessEnquiryService"/>
	<bean id="businessEnquiryServiceImpl" class="com.sabmiller.core.businessenquiry.impl.BusinessEnquiryServiceImpl">
		<property name="eventService" ref="eventService"/>
		<property name="baseSiteService" ref="baseSiteService"/>
		<property name="userService" ref="userService"/>
		<property name="commonI18NService" ref="commonI18NService"/>
		<property name="baseStoreService" ref="baseStoreService"/>
		<property name="configurationService" ref="configurationService"/>
	</bean>
	
	<bean id="businessEnquiryEmailEventListener" class="com.sabmiller.core.event.BusinessEnquiryEmailEventListener" 
		parent="abstractSiteEventListener">
		<property name="modelService" ref="modelService"/>
		<property name="businessProcessService" ref="businessProcessService"/>
	</bean>
	
	<bean id="generateBusinessEnquiryEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="BusinessEnquiryEmailTemplate"/>
	</bean>
	<!-- end of business enquiry -->

	      
	
	<bean id="generatePaymentConfirmationEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="PaymentConfirmationEmailTemplate"/>
	</bean>
		
	<bean id="PaymentConfirmationEmailProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/paymentConfirmationEmailProcess.xml"/>
	</bean>

	<bean id="paymentConfirmationEmailEventListener" class="com.sabmiller.core.event.PaymentConfirmationEmailEventListener" parent="abstractSiteEventListener"/>
	<!-- verified -->
	<alias name="sabmDiscountPerUnitCalculationStrategy" alias="discountPerUnitCalculationStrategy"/>
	<bean id="sabmDiscountPerUnitCalculationStrategy" class="com.sabmiller.core.deals.strategies.DefaultSABMDiscountPerUnitCalculationStrategy"/>
	<!-- verified -->
	<alias name="sabmDealValidationStrategy" alias="dealValidationStrategy"/>
	<bean id="sabmDealValidationStrategy" class="com.sabmiller.core.deals.strategies.DefaultSABMDealValidationStrategy"/>
	<!-- verified -->
	<alias name="sabmProductUOMConversionStrategy" alias="productUOMConversionStrategy"/>
	<bean id="sabmProductUOMConversionStrategy" class="com.sabmiller.core.deals.strategies.DefaultSABMProductUOMConversionStrategy"/>
	
	
	<alias name="defaultSABMUpdateOrderTemplateEntryStrategy" alias="sabmUpdateOrderTemplateEntryStrategy"/>
	<bean id="defaultSABMUpdateOrderTemplateEntryStrategy"
			class="com.sabmiller.core.strategy.impl.DefaultSABMUpdateOrderTemplateEntryStrategy"
			parent="defaultCommerceUpdateCartEntryStrategy">
		<property name="commerceUpdateCartEntryHooks" ref="commerceUpdateCartEntryMethodHooks"/>
		<property name="configurationService" ref="configurationService"/>
	</bean>
	
	<alias alias="storeSessionService" name="sabmStoreSessionService"/>
	<bean id="sabmStoreSessionService" class="com.sabmiller.core.storesession.impl.SABMStoreSessionServiceImpl" parent="defaultStoreSessionService" />
	
	<alias name="defaultSabmCommerceSolrProductSearchService" alias="defaultCommerceProductSearchService" />
	<bean id="defaultSabmCommerceSolrProductSearchService" class="com.sabmiller.core.search.solrfacetsearch.impl.DefaultSABMSolrProductSearchService" parent="defaultCommerceSolrProductSearchService">
	</bean>
	
	<bean id="sabmCatalogVersionSyncJob" class="com.sabmiller.core.jobs.SABMCatalogVersionSyncJob" parent="abstractJobPerformable" />
	
	<bean id="productSkuCodeProvider" class="com.sabmiller.core.search.solrfacetsearch.provider.impl.SABMProductSkuCodeProvider"  parent="abstractPropertyFieldValueProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="commonI18NService" ref="commonI18NService"/>
    </bean>
    	<!-- verified -->
	<alias alias="webServiceLogDao" name="sabmWebServiceLogDao"/>
	<bean id="sabmWebServiceLogDao" class="com.sabm.core.webservicelog.dao.DefaultSabmWebServiceLogDao" parent="abstractItemDao" />
	
		<!-- verified -->
	<alias alias="webServiceLogService" name="sabmWebServiceLogService"/>
	<bean id="sabmWebServiceLogService" class="com.sabm.core.webservicelog.service.DefaultSabmWebServiceLogService" />
	
	<bean id="oldWebServiceLogRemovalJob" class="com.sabmiller.core.jobs.OldWebServiceLogRemovalJob" parent="abstractJobPerformable"/>
	
	<bean id="generateProfileUpdatedNoticeEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="ProfileUpdatedNoticeTemplate"/>
	</bean>
	
	<bean id="generateSgaProfileUpdatedNoticeEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="AsahiProfileUpdateEmailTemplate"/>
	</bean>
	
	<bean id="profileUpdatedNoticeDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/profileUpdatedNoticeProcess.xml"/>
	</bean>
	
	<bean id="sgaProfileUpdatedNoticeDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/sgaProfileUpdatedNoticeProcess.xml"/>
	</bean>
	
	<bean id="profileUpdatedNoticeEventListener" class="com.sabmiller.core.event.ProfileUpdatedNoticeEventListener" parent="abstractSiteEventListener"/>
	<!-- Automation: Code fix for automated cronjob for clearing the master import LOGS -->
	
	<bean id="sabmImportLogCleanUpPerformable" class="com.sabmiller.core.jobs.SabmImportLogCleanUpPerformable" parent="abstractJobPerformable">
		<property name="sabmImportLogCleanUpService" ref="sabmImportLogCleanUpService"/>
	</bean>
	
	<bean id="sabmRecommendationCleanUpPerformable" class="com.sabmiller.core.jobs.SabmRecommendationCleanUpPerformable" parent="abstractJobPerformable"/>
	<bean id="sabmOrderCleanUpPerformable" class="com.sabmiller.core.jobs.service.SabmOrderCleanUpPerformable" parent="abstractJobPerformable">
		<property name="sabmB2BOrderService" ref="sabmB2BOrderService"/>
		<property name="configurationService" ref="configurationService"/>
	</bean>
	
	<bean id="sabmImportLogCleanUpService" class="com.sabmiller.core.jobs.service.SabmImportLogCleanUpServiceImpl">
		<property name="flexibleSearchService" ref="flexibleSearchService"/>
	</bean>
	
	<!--<bean id="sabmImportLogCleanUpDao" class="com.sabmiller.core.jobs.dao.SabmImportLogCleanUpDaoImpl" parent="abstractItemDao"></bean>  -->
	
	<bean id="dailyMonitoringJob" class="com.sabmiller.core.jobs.DailyMonitoringJob" parent="abstractJobPerformable">
	<property name="createExcelSheet" ref="createExcelSheet"/>
	<property name="emailService" ref="emailService"/>
	<property name="mediaService" ref="mediaService"/>
	<property name="catalogVersionService" ref="catalogVersionService"/>
	</bean>

	<alias alias="createExcelSheet" name="createExcelSheet"/>
	<bean id="createExcelSheet" class="com.sabmiller.core.monitoringsheet.impl.CreateExcelSheetImpl">
	</bean>
	
	<bean id="customerNotificationJob" class="com.sabmiller.core.jobs.CustomerNotificationJob" parent="abstractJobPerformable">
		<property name="notificationReportService" ref="notificationReportService"/>
	</bean>	
	
	<!-- Introduced for resolution for Price rows load performance issue by pulling CUP data before customer logs in. -->
    <bean id="fetchCustomerCUPJob" class="com.sabmiller.core.jobs.FetchCustomerCUPJob" parent="abstractJobPerformable">
        <property name="b2bUnitService" ref="b2bUnitService"/>
        <property name="scriptingLanguagesService" ref="scriptingLanguagesService"/>
    </bean>
<!-- cronjob status notifaction-->
 <bean id="sabmCronJobStatus" class="com.sabmiller.core.jobs.SabmCronJobStatus">
        <property name="emailService" ref="emailService"/>
		<property name="mediaService" ref="mediaService"/>
    </bean>

	<bean id="dealNotificationEmailProcessDefinitionResource"
		  class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/dealNotificationEmailProcess.xml"/>
	</bean>
	<bean id="dealRecommendationExpiryDateHandler" class="com.sabmiller.core.handlers.DealRecommendationExpiryDateHandler">
		<property name="dealsService" ref="dealsService"/>
	</bean>
	
	<!-- Introduced for Processing Low Stock and Out of Stock Information for the Products -->
	<!-- verified -->
	<bean id="cubStockInformationDao" class="com.sabmiller.core.b2b.dao.CUBStockInformationDaoImpl"/>
	<!-- verified -->
	<bean id="cubStockInformationService" class="com.sabmiller.core.b2b.services.impl.CUBStockInformationServiceImpl"/>
	<bean id="cubStockProcessingJob" class="com.sabmiller.core.jobs.CUBStockProcessingPerformable" parent="abstractJobPerformable"/>
	<bean id="cubStockCleanUpJob" class="com.sabmiller.core.jobs.CUBStockInformationCleanUpPerformable" parent="abstractJobPerformable"/>
	<bean id="cubStockInformationValueProvider" class="com.sabmiller.core.search.provider.impl.CUBStockInformationValueProvider"  parent="abstractPropertyFieldValueProvider"/>
	<bean id="cubStockInformationPrepareInterceptor" class="com.sabmiller.core.interceptor.CUBStockInformationPrepareInterceptor"/>
	<bean id="cubStockInformationPrepareInterceptorMapping"  class="de.hybris.platform.servicelayer.interceptor.impl.InterceptorMapping">
		<property name="interceptor" ref="cubStockInformationPrepareInterceptor"/>
		<property name="typeCode" value="CUBStockInformation"/>
	</bean>
	
	<bean id="messageSource" class="org.springframework.context.support.ReloadableResourceBundleMessageSource" >
		<property name="basenames">
			<list>
				<value>classpath:sabmcore/messages/base</value>
			</list>
		</property>
		<property name="defaultEncoding" value="UTF-8"/>
		<!-- The number of seconds to cache loaded properties files. Set to -1 (never) for production. -->
		<property name="cacheSeconds" value="#{configurationService.configuration.getProperty('storefront.resourceBundle.cacheSeconds')}"/>
		<property name="fallbackToSystemLocale" value="false"/>
	</bean>
	<!-- verified -->
	<bean id="stagingSABMRecommendationDao" class="com.sabmiller.core.b2b.dao.StagingSABMRecommendationDaoImpl"/>
	<bean id="stagingSABMRecommendationCleanUpJob" class="com.sabmiller.core.jobs.StagingSABMRecommendationCleanUpPerformable" parent="abstractJobPerformable"/>
	
	<bean id="sabmRecommendationExportJob" class="com.sabmiller.core.jobs.SABMRecommendationExportJob" parent="abstractJobPerformable" />


	<bean id="SalesForceReportExportJob" class="com.sabmiller.core.jobs.SalesForceReportExportJob" parent="abstractJobPerformable" >
		<property name="customerReportService" ref="customerReportService"/>
		<property name="venueReportService" ref="venueReportService"/>
		<property name="productReportService" ref="productReportService"/>
		<property name="orderReportService" ref="orderReportService"/>
		<property name="notificationReportService" ref="notificationReportService"/>
		<property name="welcomeEmailSaleForceDataExportService" ref="welcomeEmailSaleForceDataExportService"/>
		<property name="userToVenueDataExportService" ref="userToVenueDataExportService"/>

	</bean>

	<bean id="retrieveRecommendationJobPerformable" class="com.sabmiller.core.jobs.RetrieveRecommendationJobPerformable" parent="abstractJobPerformable">
		<property name="recommendationService" ref="recommendationService"/>
		<property name="sabmCronJobStatus" ref="sabmCronJobStatus"/>
	</bean>

	<bean id="retrieveRecommendationGroupJobPerformable" class="com.sabmiller.core.jobs.RetrieveRecommendationGroupJobPerformable" parent="abstractJobPerformable">
		<property name="recommendationService" ref="recommendationService"/>
		<property name="sabmCronJobStatus" ref="sabmCronJobStatus"/>
	</bean>

	<bean id="productHierarchyExportJobPerformable" class="com.sabmiller.core.jobs.ProductHierarchyExportJobPerformable" parent="abstractJobPerformable">
		<property name="sabmCronJobStatus" ref="sabmCronJobStatus"/>
		<property name="productService" ref="productService"/>
	</bean>

	<bean id="notificationOrderCutOffPrefHandler" class="com.sabmiller.core.handlers.NotificationOrderCutOffPrefHandler"/>
	<bean id="notificationOrderCutOffSMSPrefHandler" class="com.sabmiller.core.handlers.NotificationOrderCutOffSMSPrefHandler"/>
	<bean id="notificationOrderOrderDispatchPrefHandler" class="com.sabmiller.core.handlers.NotificationOrderOrderDispatchPrefHandler"/>
	<bean id="notificationDealPrefHandler" class="com.sabmiller.core.handlers.NotificationDealPrefHandler"/>
	<bean id="notificationDealPrefDetailsHandler" class="com.sabmiller.core.handlers.NotificationDealPrefDetailsHandler"/>
	<bean id="notificationOrderCutOffPrefDetailsHandler" class="com.sabmiller.core.handlers.NotificationOrderCutOffPrefDetailsHandler"/>
	<bean id="notificationTypeNextInQueueHandler" class="com.sabmiller.core.handlers.NotificationTypeNextInQueuePrefHandler"/>
	<bean id="notificationTypeInTransitHandler" class="com.sabmiller.core.handlers.NotificationTypeInTransitPrefHandler"/>
	<bean id="notificationTypeDeliveredHandler" class="com.sabmiller.core.handlers.NotificationTypeDeliveredPrefHandler"/>
	<bean id="notificationTypeUpdateForETAHandler" class="com.sabmiller.core.handlers.NotificationTypeUpdateForETAPrefHandler"/>
	<bean id="sabmPilotConditionPlanHandler" class="com.sabmiller.core.handlers.SabmPilotConditionPlantHandler"/>

	<bean id="notificationTypeInvoiceDiscrepancyHandler" class="com.sabmiller.core.handlers.NotificationTypeInvoiceDiscrepancyHandler"/>
	
	<bean id="notificationUserstatusHandler" class="com.sabmiller.core.handlers.NotificationUserstatusHandler"/>
	<bean id="notificationContactnumberHandler" class="com.sabmiller.core.handlers.NotificationContactnumberHandler"/>

	<bean id="cubCdnMediaURLStrategy" class="com.sabmiller.core.media.strategy.CUBCDNMediaURLStrategy">
		<property name="configurationService" ref="configurationService" />
		<property name="mediaURLStrategy" ref="${media.default.url.strategy}" />
    </bean>

	
	<!-- <alias name="defaultSabmUserCmsCacheKeyProvider" alias="sabmUserUserCmsCacheKeyProvider"/>
	<bean id="defaultSabmUserCmsCacheKeyProvider" class="com.sabmiller.core.acceleratorcms.component.cache.impl.DefaultSabmUserCmsCacheKeyProvider" parent="defaultCmsCacheKeyProvider"/>
	
	<alias name="defaultSabmB2BUnitCmsCacheKeyProvider" alias="sabmB2BUnitCmsCacheKeyProvider"/>
	<bean id="defaultSabmB2BUnitCmsCacheKeyProvider" class="com.sabmiller.core.acceleratorcms.component.cache.impl.DefaultSabmB2BUnitCmsCacheKeyProvider" parent="defaultCmsCacheKeyProvider"/>
	
	<alias name="defaultSabmDatepickerCmsCacheKeyProvider" alias="sabmDatepickerCmsCacheKeyProvider"/>
	<bean id="defaultSabmDatepickerCmsCacheKeyProvider" class="com.sabmiller.core.acceleratorcms.component.cache.impl.DefaultSabmDatepickerCmsCacheKeyProvider" parent="defaultCmsCacheKeyProvider"/>
	
	
	<alias name="defaultCacheKeyProviders" alias="cacheKeyProviders"/>
	<util:map id="defaultCacheKeyProviders" key-type="java.lang.String">
		<entry key="AbstractCMSComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="NavigationBarComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="BannerComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="SimpleBannerComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="RotatingImagesComponent" value-ref="sabmB2BUnitCmsCacheKeyProvider"/>
		<entry key="ImageMapComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="ProductCarouselComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="CategoryFeatureComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="ProductFeatureComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="CMSParagraphComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="CMSImageComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="CMSTabParagraphComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="FooterComponent" value-ref="sabmUserUserCmsCacheKeyProvider"/>
		<entry key="ProductReferencesComponent" value-ref="currentProductCmsCacheKeyProvider"/>
		<entry key="ProductDetailComponent" value-ref="currentProductCmsCacheKeyProvider"/>
		<entry key="ProductVariantSelectorComponent" value-ref="currentProductCmsCacheKeyProvider"/>
		<entry key="DynamicBannerComponent" value-ref="currentCategoryCmsCacheKeyProvider"/>
		
		<entry key="LogoComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="StandardImageComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="SABMBannerButtonComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="BannerCarouselComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="SABMBannerWithButtonComponent" value-ref="sabmB2BUnitCmsCacheKeyProvider"/>
		
		<entry key="CUBPicksComponent" value-ref="sabmB2BUnitCmsCacheKeyProvider"/>
		<entry key="DeliveryDatepickerComponent" value-ref="sabmDatepickerCmsCacheKeyProvider"/>
		
		<entry key="BestsellerComponent" value-ref="sabmB2BUnitCmsCacheKeyProvider"/>
		
		<entry key="NavigationBarWithImageComponent" value-ref="sabmB2BUnitCmsCacheKeyProvider"/>
		
		<entry key="NavigationBarCollectionComponent" value-ref="sabmB2BUnitCmsCacheKeyProvider"/> 
		
		<entry key="BrandGridComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="BrandGridComponent" value-ref="sabmB2BUnitCmsCacheKeyProvider"/>
		<entry key="AccordionComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="SABMVideoComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="LinkParagraphComponent" value-ref="sabmUserUserCmsCacheKeyProvider"/>
		<entry key="StandardTextBannerComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="StandardImageAndLinkParagraphComponent" value-ref="sabmUserUserCmsCacheKeyProvider"/>
		<entry key="StandardTextBannerComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="LiveChatComponent" value-ref="sabmB2BUnitCmsCacheKeyProvider"/>

		
		WAVE 3 COMPONENTS START
		
		<entry key="HeroBannerRotatingImagesComponent" value-ref="sabmB2BUnitCmsCacheKeyProvider"/>
		<entry key="SABMHeroBannerComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="SABMGenericCarouselItemsComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="SABMGenericCarouselComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="GenericTextContentItem" value-ref="cmsCacheKeyProvider"/>
		<entry key="GenericTextAndImageContentItem" value-ref="cmsCacheKeyProvider"/>
		<entry key="SABMInformationBoxComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="SabmGenericTabItemListComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="SABMTextImageBannerComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="CMSLinkEnhancedComponent" value-ref="cmsCacheKeyProvider"/>

		<entry key="SABMGenericConfirmationComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="SABMVideoListComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="SABMVideoComponent" value-ref="cmsCacheKeyProvider"/>
		
		Changes as part of INC1073048
		
		<entry key="FAQComponent" value-ref="cmsCacheKeyProvider"/>
		<entry key="FAQCategoryItemComponent" value-ref="cmsCacheKeyProvider"/>
		
		<entry key="FAQComponent" value-ref="sabmB2BUnitCmsCacheKeyProvider"/>
		<entry key="FAQCategoryItemComponent" value-ref="sabmB2BUnitCmsCacheKeyProvider"/>
		
		
		WAVE 3 COMPONENTS END
		
		
	</util:map>
 -->
 
 	<!-- Introduced cron job for manual product exclusion import -->
    <bean id="manualProductExclusionImportJob" class="com.sabmiller.core.jobs.ManualProductExclusionImportJob" parent="abstractJobPerformable" />
    <!-- Translator for Dynamic expiry date for to Recommendation -->
		<alias name="sabmRecommendationDealExpiryDateTranslator" alias="sabmRecommendationDealExpiryDateTranslator"/>
    	<bean id="sabmRecommendationDealExpiryDateTranslator" class="com.sabmiller.core.recommendation.deal.translator.SABMRecommendationDealExpiryDateTranslator">
          <property name="dealsService" ref="dealsService"/>
          <property name="modelService" ref="modelService"/>
    	</bean>



	<alias alias="customerReportService" name="customerReportServiceImpl"></alias>
	<bean id="customerReportServiceImpl" class="com.sabmiller.core.report.service.CustomerReportServiceImpl">
		<property name="flexibleSearchService" ref="flexibleSearchService"/>
		<property name="defaultStrategy" ref="salesForceCustomerReportExportStrategyImpl" />
		<property name="strategyMap">
			<map>
				<entry key="salesforce" value-ref="salesForceCustomerReportExportStrategyImpl"></entry>
			</map>
		</property>
	</bean>

	<alias alias="venueReportService" name="venueReportServiceImpl"></alias>
	<bean id="venueReportServiceImpl" class="com.sabmiller.core.report.service.VenueReportServiceImpl">
		<property name="flexibleSearchService" ref="flexibleSearchService"/>
		<property name="defaultStrategy" ref="salesForceVenueReportExportStrategyImpl" />
		<property name="strategyMap">
			<map>
				<entry key="salesforce" value-ref="salesForceVenueReportExportStrategyImpl"></entry>
			</map>
		</property>
	</bean>

	<alias alias="productReportService" name="productReportServiceImpl"></alias>
	<bean id="productReportServiceImpl" class="com.sabmiller.core.report.service.ProductReportServiceImpl">
		<property name="flexibleSearchService" ref="flexibleSearchService"/>
		<property name="defaultStrategy" ref="salesForceProductReportExportStrategyImpl" />
		<property name="strategyMap">
			<map>
				<entry key="salesforce" value-ref="salesForceProductReportExportStrategyImpl"></entry>
			</map>
		</property>
	</bean>

	<alias alias="orderReportService" name="orderReportServiceImpl"></alias>
	<bean id="orderReportServiceImpl" class="com.sabmiller.core.report.service.OrderReportServiceImpl">
		<property name="flexibleSearchService" ref="flexibleSearchService"/>
		<property name="defaultStrategy" ref="salesForceOrderReportExportStrategyImpl" />
		<property name="strategyMap">
			<map>
				<entry key="salesforce" value-ref="salesForceOrderReportExportStrategyImpl"></entry>
			</map>
		</property>
	</bean>

	<alias alias="notificationReportService" name="notificationReportServiceImpl"></alias>
	<bean id="notificationReportServiceImpl" class="com.sabmiller.core.report.service.NotificationReportServiceImpl">
		<property name="flexibleSearchService" ref="flexibleSearchService"/>
		<property name="defaultStrategy" ref="salesForceNotificationReportExportStrategyImpl" />
		<property name="strategyMap">
			<map>
				<entry key="salesforce" value-ref="salesForceNotificationReportExportStrategyImpl"></entry>
			</map>
		</property>
	</bean>

	<alias alias="userToVenueDataExportService" name="userToVenueDataExportServiceImpl"></alias>
	<bean id="userToVenueDataExportServiceImpl" class="com.sabmiller.core.report.service.UserToVenueDataExportServiceImpl">
		<property name="flexibleSearchService" ref="flexibleSearchService"/>
		<property name="defaultStrategy" ref="salesForceUserToVenueDataExportStrategyImpl" />
		<property name="strategyMap">
			<map>
				<entry key="salesforce" value-ref="salesForceUserToVenueDataExportStrategyImpl"></entry>
			</map>
		</property>
	</bean>

	<bean id = "salesForceCustomerReportExportStrategyImpl" class="com.sabmiller.core.report.strategy.SalesForceCustomerReportExportStrategyImpl">
		<property name="flexibleSearchService" ref="flexibleSearchService"/>
		<property name="b2bOrderService" ref="b2bOrderService"/>
		<property name="b2bUnitService" ref="b2bUnitService"/>
		<property name="sabmCSVFileGenerator" ref="sabmCSVFileGenerator"/>
		<property name="sabmSftpFileUpload" ref="sabmSftpFileUpload"/>
	</bean>

	 <bean id = "salesForceVenueReportExportStrategyImpl" class="com.sabmiller.core.report.strategy.SalesForceVenueReportExportStrategyImpl">
		<property name="flexibleSearchService" ref="flexibleSearchService"/>
		<property name="b2bUnitService" ref="b2bUnitService"/>
		<property name="sabmCSVFileGenerator" ref="sabmCSVFileGenerator"/>
		<property name="sabmSftpFileUpload" ref="sabmSftpFileUpload"/>
	</bean>

	<bean id = "salesForceProductReportExportStrategyImpl" class="com.sabmiller.core.report.strategy.SalesForceProductReportExportStrategyImpl">
		<property name="flexibleSearchService" ref="flexibleSearchService"/>
		<property name="sabmCSVFileGenerator" ref="sabmCSVFileGenerator"/>
		<property name="sabmSftpFileUpload" ref="sabmSftpFileUpload"/>
	</bean>

	<bean id = "salesForceOrderReportExportStrategyImpl" class="com.sabmiller.core.report.strategy.SalesForceOrderReportExportStrategyImpl">
		<property name="flexibleSearchService" ref="flexibleSearchService"/>
		<property name="b2bOrderService" ref="b2bOrderService"/>
		<property name="sabmCSVFileGenerator" ref="sabmCSVFileGenerator"/>
		<property name="sabmSftpFileUpload" ref="sabmSftpFileUpload"/>
		<property name="timeService" ref="timeService"/>
	</bean>

	<!-- mapping to display status value-->
	<util:map id="consignmentStatusDisplayMapping" key-type="de.hybris.platform.basecommerce.enums.ConsignmentStatus"
			value-type="java.lang.String">
		<entry key="#{T(de.hybris.platform.basecommerce.enums.ConsignmentStatus).CREATED}"
				value="Received" />
		<entry key="#{T(de.hybris.platform.basecommerce.enums.ConsignmentStatus).PROCESSING}"
				value="Being Picked" />
		<entry key="#{T(de.hybris.platform.basecommerce.enums.ConsignmentStatus).SHIPPED}"
				value="Dispatched" />
		<entry key="#{T(de.hybris.platform.basecommerce.enums.ConsignmentStatus).INTRANSIT}"
				value="In Transit" />
		<entry key="#{T(de.hybris.platform.basecommerce.enums.ConsignmentStatus).DELIVERED}"
				value="Delivered" />
		<entry key="#{T(de.hybris.platform.basecommerce.enums.ConsignmentStatus).NOTDELIVERED}"
				value="Unable to Deliver" />

		<entry key="#{T(de.hybris.platform.basecommerce.enums.ConsignmentStatus).CANCELLED}"
				value="Cancelled" />
		<entry key="#{T(de.hybris.platform.basecommerce.enums.ConsignmentStatus).READY_FOR_PICKUP}"
				value="Ready for Collection" />
		<entry key="#{T(de.hybris.platform.basecommerce.enums.ConsignmentStatus).PICKUP_COMPLETE}"
				value="Collected" />
	</util:map>

	<!-- mapping to display status value-->
	<util:map id="orerStatusDisplayMapping" key-type="de.hybris.platform.core.enums.OrderStatus"
			value-type="java.lang.String">
		<entry key="#{T(de.hybris.platform.core.enums.OrderStatus).CREATED}"
				value="Confirmed" />
		<entry key="#{T(de.hybris.platform.core.enums.OrderStatus).PROCESSING}"
				value="Being Picked" />
		<entry key="#{T(de.hybris.platform.core.enums.OrderStatus).DISPATCHED}"
				value="Dispatched" />
		<entry key="#{T(de.hybris.platform.core.enums.OrderStatus).INTRANSIT}"
				value="In Transit" />
		<entry key="#{T(de.hybris.platform.core.enums.OrderStatus).COMPLETED}"
				value="Delivered" />
		<entry key="#{T(de.hybris.platform.core.enums.OrderStatus).NOTDELIVERED}"
				value="Unable to Deliver" />
		<entry key="#{T(de.hybris.platform.core.enums.OrderStatus).RETURNED}"
				value="Returned" />
		<entry key="#{T(de.hybris.platform.core.enums.OrderStatus).PARTIALDELIVERED}"
				value="Partially Delivered" />
		<entry key="#{T(de.hybris.platform.core.enums.OrderStatus).CANCELLED}"
				value="Cancelled" />
	</util:map>

	<util:map id="consignmentStatusIdMapping" key-type="de.hybris.platform.basecommerce.enums.ConsignmentStatus"
			value-type="java.lang.String">
		<entry key="#{T(de.hybris.platform.basecommerce.enums.ConsignmentStatus).CREATED}"
				value="1" />  <!-- Confirmed -->
		<entry key="#{T(de.hybris.platform.basecommerce.enums.ConsignmentStatus).PROCESSING}"
				value="2" />  <!-- Being Picked -->
		<entry key="#{T(de.hybris.platform.basecommerce.enums.ConsignmentStatus).SHIPPED}"
				value="3" />  <!-- Dispatched -->
		<entry key="#{T(de.hybris.platform.basecommerce.enums.ConsignmentStatus).INTRANSIT}"
				value="4" />  <!-- In Transit -->
		<entry key="#{T(de.hybris.platform.basecommerce.enums.ConsignmentStatus).DELIVERED}"
				value="5" />   <!-- Delivered -->
		<entry key="#{T(de.hybris.platform.basecommerce.enums.ConsignmentStatus).NOTDELIVERED}"
				value="6" />  <!-- Not Delivered -->


     <!-- Reserved number -->
		<entry key="#{T(de.hybris.platform.basecommerce.enums.ConsignmentStatus).CANCELLED}"
				value="11" />
		<entry key="#{T(de.hybris.platform.basecommerce.enums.ConsignmentStatus).READY_FOR_PICKUP}"
			value="12" />
		<entry key="#{T(de.hybris.platform.basecommerce.enums.ConsignmentStatus).PICKUP_COMPLETE}"
				value="13" />
	</util:map>



	<bean id="sabmFeatureUtil" class="com.sabmiller.facades.util.SabmFeatureUtil" />

	<bean id = "salesForceNotificationReportExportStrategyImpl" class="com.sabmiller.core.report.strategy.SalesForceNotificationReportExportStrategyImpl">
		<property name="flexibleSearchService" ref="flexibleSearchService"/>
		<property name="sabmCSVFileGenerator" ref="sabmCSVFileGenerator"/>
		<property name="sabmSftpFileUpload" ref="sabmSftpFileUpload"/>
	</bean>

	<bean id = "salesForceUserToVenueDataExportStrategyImpl" class="com.sabmiller.core.report.strategy.SalesForceUserToVenueDataExportStrategyImpl">
		<property name="flexibleSearchService" ref="flexibleSearchService"/>
		<property name="sabmCSVFileGenerator" ref="sabmCSVFileGenerator"/>
		<property name="sabmSftpFileUpload" ref="sabmSftpFileUpload"/>
	</bean>

<alias name="welcomeEmailSaleForceDataExportServiceImpl" alias="welcomeEmailSaleForceDataExportService"/>
<bean id="welcomeEmailSaleForceDataExportServiceImpl"
	      class="com.sabmiller.core.report.service.WelcomeEmailSaleForceDataExportServiceImpl">
	     	<property name="b2bUnitService" ref="b2bUnitService"/>
		<property name="sabmCSVFileGenerator" ref="sabmCSVFileGenerator"/>
		<property name="sabmSftpFileUpload" ref="sabmSftpFileUpload"/>
		<property name="flexibleSearchService" ref="flexibleSearchService"/>
		<property name="secureTokenService" ref="secureTokenService"/>
		<property name="modelService" ref="modelService"/>
		
		
	</bean>
	
	 <bean name="employeeDao" class="de.hybris.platform.servicelayer.internal.dao.DefaultGenericDao" >
        <constructor-arg value="Employee" />
    </bean>
	
	<bean name="sabmNotificationDao" class="de.hybris.platform.servicelayer.internal.dao.DefaultGenericDao" >
    	<constructor-arg value="SABMNotification" />
	</bean>
	
	<alias name="sabmB2BEmployeeService" alias="sabmB2BEmployeeService"/>
	 <bean name="sabmB2BEmployeeService" class="com.sabmiller.core.b2b.services.impl.SabmB2BEmployeeServiceImpl">
    </bean>

    <bean id="sabmTrackOrderReportExportJob" class="com.sabmiller.core.jobs.SabmTrackOrderExportJob" parent="abstractJobPerformable" />


	<!-- AutoPay beans - Start -->
	<!-- verified -->
	<alias name="defaultSabmEmailService" alias="sabmEmailService"/>
	<bean id="defaultSabmEmailService" class="com.sabmiller.core.email.service.impl.DefaultSabmEmailService"/>
	<!-- verified -->
	<alias name="defaultAutoPayExtractCreditCardOrdersStrategy" alias="autoPayExtractCreditCardOrdersStrategy"/>
	<bean id = "defaultAutoPayExtractCreditCardOrdersStrategy" class="com.sabmiller.core.autopay.strategy.impl.DefaultAutoPayExtractCreditCardOrdersStrategy"/>
	
	<bean id="extractAutoPayCreditCardOrdersJob" class="com.sabmiller.core.autopay.jobs.ExtractAutoPayCreditCardOrdersJob" parent="abstractJobPerformable" />
	
	<!-- AutoPay beans - End -->


	<!-- Invoice Discrepancy  -->
	<bean id="invoiceDiscrepanyRequestTotalExpectedDiscountHandler" class="com.sabmiller.core.handlers.InvoiceDiscrepancyRequestTotalExpectedDiscountHandler">
    </bean>

	<bean id="invoiceDiscrepanyRequestTotalAmountToCreditHandler" class="com.sabmiller.core.handlers.InvoiceDiscrepancyRequestTotalAmountToCreditHandler">
	</bean>

	<bean id="invoiceDiscrepanyRequestTotalFreightAmountToCreditHandler" class="com.sabmiller.core.handlers.InvoiceDiscrepancyRequestTotalFreightAmountToCreditHandler">
	</bean>
<!-- verified -->
	<bean id="creditAdjustmentSalesTeamReportStrategy" class="com.sabmiller.core.invoices.strategy.DefaultSabmCreditAdjustmentSalesTeamReportStrategy">
	</bean>

	<bean id="invoiceDiscrepancyReversePopulator" class="com.sabmiller.core.invoices.converters.reversePopulators.InvoiceDiscrepancyReversePopulator">
		<property name="invoiceDiscrepancyItemDataReversePopulator" ref="invoiceDiscrepancyItemDataReversePopulator" />
		<property name="invoiceDiscrepancyReverseNotificationPopulator" ref="invoiceDiscrepancyReverseNotificationPopulator" />
	</bean>

	<bean id="creditAdjustmentSAPReversePopulator" class="com.sabmiller.core.invoices.converters.reversePopulators.CreditAdjustmentSAPReversePopulator"/>


	<bean id="invoiceDiscrepancyItemDataReversePopulator" class="com.sabmiller.core.invoices.converters.reversePopulators.InvoiceDiscrepancyItemDataReversePopulator"/>


	<bean id="invoiceDiscrepancyReverseNotificationPopulator" class="com.sabmiller.core.invoices.converters.reversePopulators.InvoiceDiscrepancyReverseNotificationPopulator"/>


	<bean id="invoiceDiscrepancyPopulator" class="com.sabmiller.core.invoices.converters.populators.InvoiceDiscrepancyPopulator">
		<property name="invoiceDiscrepancyItemDataPopulator" ref="invoiceDiscrepancyItemDataPopulator" />
		<property name="invoiceDiscrepancyNotificationsPopulator" ref="invoiceDiscrepancyNotificationsPopulator" />

	</bean>

	<bean id="invoiceDiscrepancyItemDataPopulator" class="com.sabmiller.core.invoices.converters.populators.InvoiceDiscrepancyItemDataPopulator"/>

	<bean id="invoiceDiscrepancyNotificationsPopulator" class="com.sabmiller.core.invoices.converters.populators.InvoiceDiscrepancyNotificationsPopulator"/>

	<bean id="bdeToB2BUnitRelationImportJob" class="com.sabmiller.core.jobs.BDEToB2BUnitRelationImportJob" parent="abstractJobPerformable" />

	<!-- new spring definitions for upgrade-->
	<util:map id="acceleratorStatusDisplayMap">
		<entry key="CREATED" value="created"/>
		<entry key="OPEN" value="open"/>
		<entry key="CANCELLED" value="cancelled"/>
		<entry key="CANCELLING" value="cancelling"/>
		<entry key="COMPLETED" value="completed"/>
		<entry key="CHECKED_INVALID" value="error"/>
		<entry key="PAYMENT_AMOUNT_NOT_RESERVED" value="error"/>
		<entry key="PAYMENT_NOT_AUTHORIZED" value="error"/>
		<entry key="PAYMENT_NOT_CAPTURED" value="error"/>
		<entry key="PROCESSING_ERROR" value="error"/>
		<entry key="RETURNED" value="returned"/>
		<entry key="DISPATCHED" value="dispatched"/>
		<entry key="INTRANSIT" value="inTransit"/>
		<entry key="NOTDELIVERED" value="notDelivered"/>
		<entry key="PARTIALDELIVERED" value="partiallyDelivered"/>
	</util:map>


	<bean id="defaultB2BCommerceUnitFacade"
		  class="de.hybris.platform.b2bacceleratorfacades.company.impl.DefaultB2BCommerceUnitFacade"
		  parent="b2bCommerceFacade">
	</bean>

	<alias name="sabmCommerceAddToCartStrategy" alias="commerceAddToCartStrategy"/>
	<bean id="sabmCommerceAddToCartStrategy"
		  class="com.sabmiller.core.order.impl.SabmCommerceAddToCartStrategy"
		  parent="defaultCommerceAddToCartStrategy">
		<property name="commerceAddToCartMethodHooks" ref="commerceAddToCartMethodHooks"/>
		<property name="entryMergeStrategy" ref="entryMergeStrategy"/>
		<property name="configurationService" ref="configurationService"/>
	</bean>

	<alias name="sabmFacetSearchQueryFilterQueriesPopulator" alias="facetSearchQueryFilterQueriesPopulator"/>
	<bean id="sabmFacetSearchQueryFilterQueriesPopulator" class="com.sabmiller.core.search.solrfacetsearch.impl.SABMFacetQueryFilterQueriesPopulator"
		  parent="abstractFacetSearchQueryPopulator" />

	<alias name="sabmSolrManagedResourceServiceImpl" alias="sabmSolrManagedResourceService" />
	<bean id="sabmSolrManagedResourceServiceImpl" class="com.sabmiller.core.search.solrfacetsearch.solr.impl.SABMSolrManagedResourceServiceImpl" >
		<property name="configurationService" ref="configurationService" />
	</bean>

	<alias name="sabmSolrCloudSearchProviderImpl" alias="sabmSolrCloudSearchProvider" />
	<bean id="sabmSolrCloudSearchProviderImpl" class="com.sabmiller.core.search.solrfacetsearch.solr.impl.SABMSolrCloudSearchProvider" parent="solrCloudSearchProvider" >
		<property name="sabmSolrManagedResourceService" ref="sabmSolrManagedResourceService" />
	</bean>

	<alias name="sabmSolrStandaloneSearchProviderImpl" alias="sabmSolrStandaloneSearchProvider"/>
	<bean id="sabmSolrStandaloneSearchProviderImpl" class="com.sabmiller.core.search.solrfacetsearch.solr.impl.SABMSolrStandaloneSearchProvider" parent="solrStandaloneSearchProvider" >
		<property name="sabmSolrManagedResourceService" ref="sabmSolrManagedResourceService" />
	</bean>

	<alias name="sabmSolrSearchProviderFactoryImpl" alias="solrSearchProviderFactory" />
	<alias name="sabmSolrSearchProviderFactoryImpl" alias="sabmSolrSearchProviderFactory" />
	<bean id="sabmSolrSearchProviderFactoryImpl" parent="defaultSolrSearchProviderFactory">
		<property name="solrStandaloneSearchProvider" ref="sabmSolrStandaloneSearchProvider" />
		<property name="solrCloudSearchProvider" ref="sabmSolrCloudSearchProvider" />
	</bean>

    <alias name="sabmPromotionsServiceImpl" alias="promotionsService" />
    <alias name="sabmPromotionsServiceImpl" alias="sabmPromotionsService" />
    <bean id="sabmPromotionsServiceImpl" class="com.sabmiller.core.promotions.impl.SABMPromotionsServiceImpl" parent="defaultPromotionsService" />

	<bean id="complexDealNormalisationJob" class="com.sabmiller.core.jobs.ComplexDealNormalisationJob" parent="abstractJobPerformable" >
		<property name="dealsService" ref="dealsService" />
	</bean>

	<bean id="afterRetentionCleanupJobPerformable" class="com.sabmiller.core.jobs.SabmAfterRetentionCleanupJobPerformable" parent="abstractJobPerformable" >
		<property name="retentionItemsProviderFactory" ref="retentionItemsProviderFactory"/>
	</bean>

	<!-- Helpers -->
	<alias name="sabmIndexerImpl" alias="sabmIndexer" />
	<alias name="sabmIndexerImpl" alias="indexer" />
	<bean id="sabmIndexerImpl" class="com.sabmiller.core.search.solrfacetsearch.solr.indexer.impl.SabmIndexerImpl" parent="defaultIndexer"/>


	<alias name="sabmSearchRestrictionServiceImpl" alias="searchRestrictionService" />
	<alias name="sabmSearchRestrictionServiceImpl" alias="sabmSearchRestrictionService" />
	<bean id="sabmSearchRestrictionServiceImpl" class="com.sabmiller.core.search.restriction.impl.SabmSearchRestrictionServiceImpl" parent="defaultSearchRestrictionService">
		<property name="flexibleSearchService" ref="flexibleSearchService" />
	</bean>

	<bean id="leadSkuValueResolver" class="com.sabmiller.core.search.solrfacetsearch.provider.impl.LeadSkuValueResolver" parent="abstractValueResolver"/>
	<bean id="hasVariantsValueResolver" class="com.sabmiller.core.search.solrfacetsearch.provider.impl.HasVariantsValueResolver" parent="abstractValueResolver" />
	
	<bean id="maxOrderQuantityValueResolver" class="com.sabmiller.core.search.solrfacetsearch.provider.impl.MaxOrderQuantityValueResolver" parent="abstractValueResolver"/>
	<bean id="wetPriceFlagValueResolver" class="com.sabmiller.core.search.solrfacetsearch.provider.impl.WetPriceFlagValueResolver" parent="abstractValueResolver"/>
	<bean id="cdlCheckLevel4ValueResolver" class="com.sabmiller.core.search.solrfacetsearch.provider.impl.CDLCheckLevel4ValueResolver" parent="abstractValueResolver"/>
	<bean id="productPresentationValueResolver" class="com.sabmiller.core.search.solrfacetsearch.provider.impl.ProductPresentationValueResolver" parent="abstractValueResolver"/>
	
	<bean name="solrIndexedPropertyDao" class="de.hybris.platform.solrfacetsearch.daos.impl.DefaultSolrIndexedPropertyDao" >
<!--        <constructor-arg value="SolrIndexedProperty" />-->
	</bean>
	<!-- verified -->
	<bean id="asahiPaymentIntegrationPointsService" class="com.apb.core.integration.AsahiPaymentIntegrationPointsServiceImpl">
	</bean>
	
	 <bean depends-on="processContextResolutionStrategyMap" parent="mapMergeDirective">
        <property name="key">
            <value type="java.lang.Class">de.hybris.platform.commerceservices.model.process.ForgottenPasswordProcessModel</value>
        </property>
        <property name="value" ref="storeFrontProcessContextStrategy"/>
    </bean>
    
    <bean depends-on="processContextResolutionStrategyMap" parent="mapMergeDirective">
    <property name="key">
       <value type="java.lang.Class">de.hybris.platform.processengine.model.BusinessProcessModel</value>
    </property>
    <property name="value" ref="storeFrontProcessContextStrategy"/>
 </bean>
 
   <alias name="asahiTitleDao" alias="titleDao" />
   <bean id="asahiTitleDao" class="com.apb.core.user.daos.impl.DefaultAsahiTitleDao"/>
   

   <!-- HC-1316:ALB Staff Portal -->
   
   <bean id="asahiCustomerNameProvider" class="com.apb.core.search.solrfacetsearch.provider.impl.AsahiCustomerNameProvider"  parent="abstractPropertyFieldValueProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="commonI18NService" ref="commonI18NService"/>
   </bean>
   
   <bean id="asahiCustomerIDProvider" class="com.apb.core.search.solrfacetsearch.provider.impl.AsahiCustomerIDProvider"  parent="abstractPropertyFieldValueProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="commonI18NService" ref="commonI18NService"/>
   </bean>
   
   <bean id="asahiCustomerAddressProvider" class="com.apb.core.search.solrfacetsearch.provider.impl.AsahiCustomerAddressProvider"  parent="abstractPropertyFieldValueProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="commonI18NService" ref="commonI18NService"/>
        <property name="modelService" ref="modelService" />
	     <property name="typeService" ref="typeService" />      
   </bean>
   
   <bean id="asahiCustomerAddressRegionProvider" class="com.apb.core.search.solrfacetsearch.provider.impl.AsahiCustomerAddressRegionProvider"  parent="abstractPropertyFieldValueProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="commonI18NService" ref="commonI18NService"/>
   </bean>
   
   <bean id="asahiCustomerAccountPayerNumberProvider" class="com.apb.core.search.solrfacetsearch.provider.impl.AsahiCustomerAccountPayerNumberProvider"  parent="abstractPropertyFieldValueProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="commonI18NService" ref="commonI18NService"/>
   </bean> 
   
   <bean id="asahiB2BUnitAccountOrPayerNumberProvider" class="com.apb.core.search.solrfacetsearch.provider.impl.AsahiB2BUnitAccountOrPayerNumberProvider"  parent="customerAccountPayerNumberProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="commonI18NService" ref="commonI18NService"/>
   </bean>
   
   <bean id="asahiOrderingStatusProvider" class="com.apb.core.search.solrfacetsearch.provider.impl.AsahiOrderingStatusProvider"  parent="abstractPropertyFieldValueProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="commonI18NService" ref="commonI18NService"/>
   </bean>
    
    	
	<bean id="asahiNotificationConverter" parent="abstractPopulatingConverter">
		<property name="targetClass" value="com.asahi.facades.notifications.data.AsahiNotificationData" />
		<property name="populators">
			<list>
				<ref bean="asahiNotificationPopulator" />
			</list>
		</property>
	</bean>
   
   <bean id="asahiCustomerEmailProvider" class="com.apb.core.search.solrfacetsearch.provider.impl.AsahiCustomerEmailProvider"  parent="abstractPropertyFieldValueProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="commonI18NService" ref="commonI18NService"/>
   </bean>
   
   <bean id="asahiPrimaryAdminStatusProvider" class="com.apb.core.search.solrfacetsearch.provider.impl.AsahiPrimaryAdminStatusProvider"  parent="abstractPropertyFieldValueProvider">
        <property name="fieldNameProvider" ref="solrFieldNameProvider"/>
        <property name="commonI18NService" ref="commonI18NService"/>
   </bean>
	
    <bean id="sabmMaxOrderQtyPrepareInterceptor" class="com.sabmiller.core.interceptor.SabmMaxOrderQtyPrepareInterceptor" autowire="byName"/>

	<bean id="sabmMaxOrderQtyPrepareInterceptorMapping"  class="de.hybris.platform.servicelayer.interceptor.impl.InterceptorMapping">
		<property name="interceptor" ref="sabmMaxOrderQtyPrepareInterceptor"/>
		<property name="typeCode" value="MaxOrderQty"/>
	</bean>
	<bean id="sabmMaxOrderQtyValidateInterceptor" class="com.sabmiller.core.interceptor.SabmMaxOrderQtyValidateInterceptor" autowire="byName"/>

	<bean id="sabmMaxOrderQtyValidateInterceptorMapping"  class="de.hybris.platform.servicelayer.interceptor.impl.InterceptorMapping">
		<property name="interceptor" ref="sabmMaxOrderQtyValidateInterceptor"/>
		<property name="typeCode" value="MaxOrderQty"/>
	</bean>
	<bean id="cubMaxOrderQuantityDao" class="com.sabmiller.core.b2b.dao.CUBMaxOrderQuantityDaoImpl"/>
	
	<bean id="sabmB2bCustomerModelValidateInterceptor" class="com.sabmiller.core.interceptor.SabmB2bCustomerModelValidateInterceptor" parent="B2BCustomerModelValidateInterceptor" autowire="byName"/>

	<bean id="sabmB2bCustomerModelValidateInterceptorMapping"  class="de.hybris.platform.servicelayer.interceptor.impl.InterceptorMapping">
		<property name="interceptor" ref="sabmB2bCustomerModelValidateInterceptor"/>
		<property name="typeCode" value="B2BCustomer"/>
	</bean>

    <alias name="sabmOrderEntryQuantityService" alias="defaultOrderEntryQuantityService"/>
    <bean id="sabmOrderEntryQuantityService"
          class="com.sabmiller.core.order.impl.SABMOrderEntryQuantityService">
        <property name="warehousingOrderEntryQuantityDao" ref="warehousingOrderEntryQuantityDao"/>
        <property name="consignmentEntryQuantityService" ref="consignmentEntryQuantityService"/>
    </bean>
    
    
    <bean id="asahiPlanogramPrepareInterceptor" class="com.apb.core.interceptor.AsahiPlanogramPrepareInterceptor" autowire="byName"/>
    
    <bean id="asahiPlanogramPrepareInterceptorMapping"  class="de.hybris.platform.servicelayer.interceptor.impl.InterceptorMapping">
		<property name="interceptor" ref="asahiPlanogramPrepareInterceptor"/>
		<property name="typeCode" value="Planogram"/>
	</bean>
	<alias name="asahiDealValidationStrategy" alias="asahiDealValidationStrategy"/>
	<bean id="asahiDealValidationStrategy" class="com.apb.core.deals.strategies.impl.DefaultAsahiDealValidationStrategy"/>
	
	 <bean id="asahiDealStatusValueResolver" class="com.apb.core.search.solrfacetsearch.provider.impl.AsahiDealStatusValueResolver"  parent="abstractValueResolver"/>
	 
	<bean id="asahiGenerateDealsChangeConfirmationEmail" parent="abstractGenerateEmailAction">
		<property name="frontendTemplateName" value="AsahiDealsChangeEmailTemplate"/>
	</bean>
	
	<bean id="asahiChangeDealProcessDefinitionResource"
	      class="de.hybris.platform.processengine.definition.ProcessDefinitionResource" >
		<property name="resource" value="classpath:/sabmcore/processes/asahiDealsChangeNotificationEmailProcess.xml"/>
	</bean>
	
	<bean id="asahiDealsChangeEventListener" class="com.apb.core.event.AsahiDealsChangeEventListener" parent="abstractAcceleratorSiteEventListener">
		<property name="modelService" ref="modelService"/>
		<property name="businessProcessService" ref="businessProcessService"/>
	</bean>
	
	<bean id="asahiSendUsersToSFJob" class="com.apb.core.cronjob.users.AsahiSendUsersToSFJob" parent="abstractJobPerformable" />
	
	<bean id="asahiSendAllUsersToSFJob" class="com.apb.core.cronjob.users.AsahiSendAllUsersToSFJob" parent="abstractJobPerformable" />
	
</beans>
